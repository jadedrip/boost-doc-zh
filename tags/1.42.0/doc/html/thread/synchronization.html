<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Synchronization</title>

<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../thread.html" title="Chapter&nbsp;19.&nbsp;Thread">
<link rel="prev" href="thread_management.html" title="Thread Management">
<link rel="next" href="thread_local_storage.html" title="Thread Local Storage">
</head>
<body style="color: black; background-color: white;" alink="#0000ff" link="#0000ff" vlink="#840084">
<table cellpadding="2" width="100%">
<tbody>
<tr>
<td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>
<td align="center"><a href="../../../index.html">Home</a></td>
<td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../more/index.htm">More</a></td>
</tr>
</tbody>
</table>
<hr>
<div class="spirit-nav"><a accesskey="p" href="thread_management.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../thread.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="thread_local_storage.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;"><a name="thread.synchronization"></a><a class="link" href="../thread/synchronization.html" title="Synchronization">
Synchronization&#21516;&#27493;&#22788;&#29702;</a>
</h2>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts">
Mutex Concepts</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks">
Lock Types</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.lock_functions">
Lock functions</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types">
Mutex Types</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref">
Condition Variables</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.once">
One-time Initialization</a></span></dt>
<dt><span class="section"></span><a href="http://www.boost.org/doc/libs/1_41_0/doc/html/thread/synchronization.html#thread.synchronization.futures"><span class="section"></span></a><a href="synchronization.html#thread.synchronization.barriers">
Barriers</a></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures">Futures</a></span></dt>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.mutex_concepts"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts" title="Mutex Concepts"> Mutex Concepts&#20114;&#26021;&#37327;</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable">
<code class="computeroutput"><span class="identifier">Lockable</span></code> Concept</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable">
<code class="computeroutput"><span class="identifier">TimedLockable</span></code>
Concept</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable">
<code class="computeroutput"><span class="identifier">SharedLockable</span></code>
Concept</a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable">
<code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
Concept</a></span></dt>
</dl>
</div>
<p>&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&#20114;&#26021;&#37327;&#23545;&#35937;&#31616;&#21270;&#20102;&#32447;&#31243;&#38388;&#25968;&#25454;&#31455;&#24577;&#20445;&#25252;&#21644;&#25968;&#25454;&#21516;&#27493;&#12290;&#19968;&#20010;&#32447;&#31243;&#36890;&#36807;&#19968;&#20010;&#38145;&#23450;&#20989;&#25968;&#21462;&#24471;&#19968;&#20010;&#20114;&#26021;&#37327;&#30340;&#25152;&#26377;&#26435;&#65292;&#36890;&#36807;&#19968;&#20010;&#23545;&#24212;&#30340;&#35299;&#38145;&#20989;&#25968;&#37322;&#25918;
&#25152;&#26377;&#26435;&#12290;&#20114;&#26021;&#37327;&#21487;&#20197;&#26159;&#25903;&#25345;&#36882;&#24402;&#25152;&#26377;&#26435;&#30340;&#25110;&#38750;&#36882;&#24402;&#25152;&#26377;&#26435;&#30340;&#65292; &#20063;&#21487;&#20197;&#21516;&#26102;&#23646;&#20110;&#22810;&#20010;&#32447;&#31243;&#12290; <span class="bold"><strong>Boost.Thread</strong></span>
&#24211;&#25552;&#20379;&#36882;&#24402;&#21644;&#38750;&#36882;&#24402;&#20114;&#26021;&#37327;,&nbsp;&#25903;&#25345;&#25490;&#20182;&#22411;&#30340;&#25152;&#26377;&#26435;&#21644;&#20849;&#20139;&#25152;&#26377;&#26435;(multiple-reader /
single-writer)&#12290; </p>
<p> <span class="bold"><strong>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; Boost.Thread</strong></span>&amp;
nbsp;&#24211;&#25903;&#25345;&#22235;&#31181;&#22522;&#26412;&#30340;&#21487;&#25152;&#26377;&#26435;&#27010;&#24565;: <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"><code class="computeroutput"><span class="identifier">SharedLockable</span></code></a>
&#21644;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"><code class="computeroutput"><span class="identifier">UpgradeLockable</span></code></a>&#12290;
&#27599;&#31181;&#20114;&#26021;&#37327;&#20381;&#25454;&#33258;&#24049;&#30340;&#30446;&#26631;&#23454;&#29616;&#19968;&#31181;&#25110;&#22810;&#31181;&#27010;&#24565;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_concepts.lockable"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"> <code class="computeroutput"><span class="identifier">Lockable</span></code> &#27010;&#24565;</a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">try_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&amp;
nbsp;&#23545;&#25490;&#20182;&#22411;&#25152;&#26377;&#26435;&#24314;&#27169;&#12290; &#23454;&#29616; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&amp;
nbsp;&#27010;&#24565;&#38656;&#35201;&#25552;&#20379;&#19979;&#38754;&#30340;&#25104;&#21592;&#20989;&#25968;: </p>
<div class="itemizedlist">
<ul type="disc">
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span></code></a></li>
</ul>
</div>
<p> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&#36890;&#36807; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>&#25110;
&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>
&#33719;&#21462;&#30340;&#25152;&#26377;&#26435;&#38656;&#35201;&#36890;&#36807; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#26469;&#37322;&#25918;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="special"></span></code></a>&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.lockable.lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.lockable.try_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"> <code class="computeroutput"><span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23581;&#35797;&#21462;&#24471;&#20114;&#26021;&#37327;&#25152;&#26377;&#26435;&#65292;&#32447;&#31243;&#19981;&#20250;&#34987;&#38459;&#22622;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#21462;&#24471;&#25152;&#26377;&#26435;&#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;&#21542;&#21017;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>
&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#22914;&#26524;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>, &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;<code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.lockable.unlock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;&nbsp;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#37322;&#25918;&#20114;&#26021;&#37327;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#21069;&#32447;&#31243;&#25317;&#19981;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_concepts.timed_lockable"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"> <code class="computeroutput"><span class="identifier">TimedLockable</span></code>
&#27010;&#24565;</a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">DurationType</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">DurationType</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span></code></a></span></dt>
</dl>
</div>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&nbsp;&#27010;&#24565;&#32454;&#21270;&#20102;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&#27010;
&#24565;&#65292;&#25903;&#25345;&#23581;&#35797;&#33719;&#21462;&#25152;&#26377;&#26435;&#26102;&#36229;&#26102;&#25918;&#24323;&#12290; </p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#23454;&#29616;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&nbsp;&#27010;&#24565;&#30340;&#31867;&#22411;&#38500;&#20102;&#38656;&#35201;&#23454;&#29616; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&#27010;
&#24565;&#12290; &#36824;&#38656;&#35201;&#25552;&#20379;&#19979;&#38754;&#30340;&#25104;&#21592;&#20989;&#25968;&#65306; </p>
<div class="itemizedlist">
<ul type="disc">
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration" title="template&lt;typename DurationType&gt; bool timed_lock(DurationType const&amp; rel_time)"><code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">DurationType</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">DurationType</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">);</span></code></a></li>
</ul>
</div>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &#36890;&#36807; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="special"></span></code></a>
&#33719;&#21462;&#30340;&#25152;&#26377;&#26435;&#38656;&#35201;&#36890;&#36807; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#26469;&#37322;&#25918;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="special"></span></code></a>&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.timed_lockable.timed_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#23581;&#35797;&#21462;&#24471;&#35813;&#20114;&#26021;&#37327;&#25152;&#26377;&#26435;&#12290; &#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#23427;&#33719;&#24471;&#25152;&#26377;&#26435;, &#25110;&#31561;&#24453;&#36229;&#36807;&#25351;&#23450;&#30340;&#26102;&#38388;&#28857;&#12290;
&#22914;&#26524;&#31561;&#24453;&#26102;&#38388;&#28857;&#24050;&#36807;,&nbsp;&#20989;&#25968;&#30340;&#34892;&#20026;&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#19968;&#26679;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#21462;&#24471;&#25152;&#26377;&#26435;&#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;&#21542;&#21017;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#22914;&#26524;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>, &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;<code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration" title="template&lt;typename DurationType&gt; bool timed_lock(DurationType const&amp; rel_time)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">DurationType</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">DurationType</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#21516; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">get_system_time</span><span class="special">()+</span><span class="identifier">rel_time</span><span class="special">)</span></code></a>&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_concepts.shared_lockable"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"> <code class="computeroutput"><span class="identifier">SharedLockable</span></code>
&#27010;&#24565;</a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">lock_shared</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">try_lock_shared</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock_shared</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.unlock_shared">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_shared</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"><code class="computeroutput"><span class="identifier">SharedLockable</span></code>
concept</a> &#32454;&#21270;&#20102;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&#20801;&#35768;&#20849;&#20139;&#25152;&#26377;&#26435;&#65288; <span class="emphasis"><em>shared
ownership</em></span>&#65289;&#21644;&#25490;&#20182;&#22411;&#25152;&#26377;&#26435;<span class="emphasis"><em>&#65288;exclusive
ownership</em></span><span class="emphasis"><em></em></span>&#65289;&#12290;
&#36866;&#29992;&#20110;&#26631;&#20934;&#30340; multiple-reader / single-write&#27169;&#22411;: &#36890;&#24120;&#19968;&#20010;&#32447;&#31243;&#21487;&#20197;&#33719;&#21462;&#25490;&#20182;&#22411;&#25152;&#26377;&#26435;,
&#27492;&#26102;&#20854;&#20182;&#32447;&#31243;&#19981;&#33021;&#33719;&#21462;&#21040;&#25490;&#20182;&#22411;&#25152;&#26377;&#26435;&#21644;&#20849;&#20139;&#22411;&#25152;&#26377;&#26435;, &#30456;&#21453;&#30340;, &#22810;&#20010;&#32447;&#31243;&#21487;&#20197;&#21516;&#26102;&#33719;&#24471;&#20849;&#20139;&#25152;&#26377;&#26435;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&#22914;&#26524;&#19968;&#20010;&#31867;&#22411;&#35201;&#23454;&#29616;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"><code class="computeroutput"><span class="identifier">SharedLockable</span></code>
concept</a> &#27010;&#24565;,&nbsp;&#38500;&#20102;&#38656;&#35201;&#28385;&#36275;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a> &#27010;&#24565;&#35201;&#27714;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier"></span></code></a>,
&#36824;&#38656;&#35201;&#25552;&#20379;&#19979;&#38754;&#30340;&#25104;&#21592;&#20989;&#25968;: </p>
<div class="itemizedlist">
<ul type="disc">
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"><code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock_shared</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">try_lock_shared</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.unlock_shared" title="void unlock_shared()"><code class="computeroutput"><span class="keyword">bool</span> <span class="identifier">unlock_shared</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock_shared</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span></code></a></li>
</ul>
</div>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&#36890;&#36807; &#20989;&#25968; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"><code class="computeroutput"><span class="identifier">lock_shared</span><span class="special">()</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="special"></span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="special"></span></code></a>, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="identifier">try_lock_shared</span><span class="special">()</span></code></a> &#25110; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock_shared</span><span class="special">()</span></code></a>
&#33719;&#21462;&#30340;&#25152;&#26377;&#26435;&#38656;&#35201;&#36890;&#36807;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.unlock_shared" title="void unlock_shared()"><code class="computeroutput"><span class="identifier">unlock_shared</span><span class="special">()</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="special"></span></code></a>&#26469;&#37322;&#25918;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="special"></span></code></a>&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.shared_lockable.lock_shared"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock_shared</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"> <code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">try_lock_shared</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#23581;&#35797;&#21462;&#24471;&#35813;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;&#65292;&#32447;&#31243;&#19981;&#38459;&#22622;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;&#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;&#21542;&#21017;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#22914;&#26524;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;
&#24403;&#21069;&#32447;&#31243;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_lock_shared</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#23581;&#35797;&#21462;&#24471;&#35813;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;&#12290; &#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#23427;&#33719;&#24471;&#25152;&#26377;&#26435;, &#25110;&#31561;&#24453;&#36229;&#36807;&#25351;&#23450;&#30340;&#26102;&#38388;&#28857;&#12290;
&#22914;&#26524;&#31561;&#24453;&#26102;&#38388;&#28857;&#24050;&#36807;,&nbsp;&#20989;&#25968;&#30340;&#34892;&#20026;&#21644;&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="identifier">try_lock_shared</span><span class="special">()</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="special"></span></code></a>&#19968;&#26679;&amp;
nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="special"></span></code></a>&#12290;
</p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;&#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;&#21542;&#21017;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#12290;&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#22914;&#26524;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&nbsp;
&#24403;&#21069;&#32447;&#31243;&#21462;&#24471;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.shared_lockable.unlock_shared"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.unlock_shared" title="void unlock_shared()"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_shared</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#20114;&#26021;&#37327;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#37322;&#25918;&#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#30340;&#20114;&#26021;&#37327;&#20849;&#20139;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#19981;&#22312;&#25317;&#26377;&#35813;&#20114;&#26021;&#37327;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"> <code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
&#27010;&#24565;</a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.lock_upgrade">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">lock_upgrade</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock_shared">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock_shared</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_and_lock_upgrade">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_and_lock_upgrade</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"><code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
concept</a>&nbsp;&#26159;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"><code class="computeroutput"><span class="identifier">SharedLockable</span></code>
concept</a>&#30340;&#32454;&#21270;&#65292;&#29305;&#28857;&#22312;&#20110;&#20801;&#35768;&#25152;&#26377;&#26435;&#21319;&#32423;&#21040;&#29420;&#21344;&#29366;&#24577;<span class="emphasis"><em></em></span>&#12290;
&#36825;&#26159;&#23545;&#20849;&#20139;&#25152;&#26377;&#26435;&#25903;&#25345;&#30340;multiple-reader / single-write&#27169;&#22411;&#30340;&#19968;&#20010;&#25193;&#23637;&#65306;&#19968;&#20010;&#32447;&#31243;&#21487;&#20197;&#25317;&#26377;<span class="emphasis"><em>upgradable ownership</em></span>&#32780;
&#21516;&#26102;&#20854;&#20182;&#32447;&#31243;&#25317;&#26377;&#20849;&#20139;&#25152;&#26377;&#26435; &#35813;&#32447;&#31243;&#21487;&#20197;&#22312;&#20219;&#20309;&#26102;&#20505;&#35797;&#22270;&#21319;&#32423;&#20854;&#25152;&#26377;&#26435;&#20026;&#29420;&#21344;&#24335;&#25152;&#26377;<span class="emphasis"><em></em></span>&#65292;
&#22914;&#26524;&#27492;&#26102;&#27809;&#26377;&#20854;&#20182;&#32447;&#31243;&#25317;&#26377;&#20849;&#20139;&#25152;&#26377;&#26435;&#65292;&#21319;&#32423;&#31435;&#21363;&#23436;&#25104;, &#35813;&#32447;&#31243;&#23601;&#20250;&#25317;&#26377;&#29420;&#21344;&#25152;&#26377;&#26435;<span class="emphasis"><em></em></span>,
&#36825;&#20010;&#25152;&#26377;&#26435;&#38656;&#35201;&#36890;&#36807; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#26469;&#37322;&#25918;,
&#23601;&#20687;&#36825;&#20010;&#25152;&#26377;&#26435;&#26159;&#36890;&#36807;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>&#21462;
&#24471;&#19968;&#26679;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&nbsp;&#22914;&#26524;&#35813;&#32447;&#31243;&#35797;&#22270;&#21319;&#32423;&#21040;&#29420;&#21344;&#25152;&#26377;&#26102;,&#20854;&#20182;&#32447;&#31243;&#25317;&#26377;&#23545;&#24212;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;,
&#21319;&#32423;&#20250;&#22833;&#36133;&#65292;&#35813;&#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#20854;&#33719;&#24471;&#29420;&#21344;&#25152;&#26377;&#26435;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"><code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
concept</a>&#20013;&#30340;&#25152;&#26377;&#26435;&#20063;&#21487;&#20197;&#38477;&#32423;:
&#29420;&#21344;&#24335;&#25152;&#26377;&#26435;&#21487;&#20197;&#38477;&#32423;&#20026;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#25110;&#32773;&#20849;&#20139;&#25152;&#26377;&#26435;,&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#21487;&#20197;&#38477;&#32423;&#20026;&#19968;&#33324;&#20849;&#20139;&#25152;&#26377;&#26435;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&#22914;&#26524;&#19968;&#20010;&#31867;&#22411;&#35201;&#23454;&#29616; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"><code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
concept</a>&#27010;&#24565;&#65292;&#38500;&#20102;&#38656;&#35201;&#23454;&#29616; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable" title="SharedLockable Concept"><code class="computeroutput"><span class="identifier">SharedLockable</span></code>
concept</a>&#27010;&#24565;,&nbsp;&#23427;&#36824;&#38656;&#35201;&#25552;&#20379;&#19979;&#38754;&#30340;&#25104;&#21592;&#20989;&#25968;: </p>
<div class="itemizedlist">
<ul type="disc">
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.lock_upgrade" title="void lock_upgrade()"><code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock_upgrade</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade" title="void unlock_upgrade()"><code class="computeroutput"><span class="keyword">bool</span> <span class="identifier">unlock_upgrade</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock" title="void unlock_upgrade_and_lock()"><code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_and_lock_upgrade" title="void unlock_and_lock_upgrade()"><code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_and_lock_upgrade</span><span class="special">();</span></code></a></li>
<li><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock_shared" title="void unlock_upgrade_and_lock_shared()"><code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock_shared</span><span class="special">();</span></code></a></li>
</ul>
</div>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#36890;&#36807;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.lock_upgrade" title="void lock_upgrade()"><code class="computeroutput"><span class="identifier">lock_upgrade</span><span class="special">()</span></code></a>&nbsp;
&#21462;&#24471;&#30340;&#25152;&#26377;&#26435;&#38656;&#35201;&#36890;&#36807;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade" title="void unlock_upgrade()"><code class="computeroutput"><span class="identifier"> unlock_upgrade</span><span class="special">()</span></code></a>&#26469;&#37322;&#25918; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade" title="void unlock_upgrade()"><code class="computeroutput"><span class="special"></span></code></a>&#12290;
&#22914;&#26524;&#25152;&#26377;&#26435;&#31867;&#22411;&#36890;&#36807;&#20989;&#25968;<code class="computeroutput"><span class="identifier">unlock_xxx_and_lock_yyy</span><span class="special">()</span></code>&#25913;&#21464;&nbsp;<code class="computeroutput"><span class="special"></span></code>,
&#25152;&#26377;&#26435;&#24517;&#39035;&#36890;&#36807;&#26032;&#25152;&#26377;&#26435;&#23545;&#24212;&#30340;&#37322;&#25918;&#20989;&#25968;&#26469;&#37322;&#25918;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable.lock_upgrade"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.lock_upgrade" title="void lock_upgrade()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">lock_upgrade</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#38459;&#22622;&#30693;&#36947;&#23427;&#33719;&#24471;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#21462;&#24471;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20986;&#38169;&#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#24322;&#24120;</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade" title="void unlock_upgrade()"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#37322;&#25918;&#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#30340;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#19981;&#22312;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock" title="void unlock_upgrade_and_lock()"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#33258;&#21160;&#37322;&#25918;&#25317;&#26377;&#30340;&#35813;&#23545;&#35937;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#65292;&#24182;&#35797;&#22270;&#21462;&#24471;&#35813;&#23545;&#35937;&#30340;&#29420;&#21344;&#25152;&#26377;&#26435;, &#32447;&#31243;&#38459;&#22622;&#30452;&#21040;&#20854;&#33719;&#24471;&#29420;&#21344;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#29420;&#21344;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock_shared"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_upgrade_and_lock_shared" title="void unlock_upgrade_and_lock_shared()"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_upgrade_and_lock_shared</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#33258;&#21160;&#37322;&#25918;&#25317;&#26377;&#30340;&#35813;&#23545;&#35937;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#65292;&#21462;&#24471;&#20849;&#20139;&#25152;&#26377;&#26435;&#65292;&#35813;&#20989;&#25968;&#20250;&#31435;&#21363;&#36820;&#22238;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#20849;&#20139;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;&nbsp;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_concepts.upgrade_lockable.unlock_and_lock_upgrade"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable.unlock_and_lock_upgrade" title="void unlock_and_lock_upgrade()"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">unlock_and_lock_upgrade</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#35813;&#23545;&#35937;&#30340;&#29420;&#21344;&#25152;&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
<code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#33258;&#21160;&#37322;&#25918;&#25317;&#26377;&#30340;&#35813;&#23545;&#35937;&#29420;&#21344;&#32423;&#25152;&#26377;&#26435;&#65292;&#21462;&#24471;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#65292;&#35813;&#20989;&#25968;&#20250;&#31435;&#21363;&#36820;&#22238;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#33258;&#21160;&#25317;&#26377;&#35813;&#23545;&#35937;&#21487;&#21319;&#32423;&#25152;&#26377;&#26435;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.locks"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks" title="Lock Types">&nbsp;&#38145;&#23450;&#31867;&#22411;&#65288;Lock Types&#65289;</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.lock_guard">
Class template <code class="computeroutput"><span class="identifier">lock_guard</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock">
Class template <code class="computeroutput"><span class="identifier">unique_lock</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock">
Class template <code class="computeroutput"><span class="identifier">shared_lock</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock">
Class template <code class="computeroutput"><span class="identifier">upgrade_lock</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.upgrade_to_unique_lock">
Class template <code class="computeroutput"><span class="identifier">upgrade_to_unique_lock</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.scoped_try_lock">
Mutex-specific class <code class="computeroutput"><span class="identifier">scoped_try_lock</span></code></a></span></dt>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.lock_guard"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"> Class template <code class="computeroutput"><span class="identifier">lock_guard</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.constructor">
<code class="computeroutput"><span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.constructor_adopt">
<code class="computeroutput"><span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.destructor">
<code class="computeroutput"><span class="special">~</span><span class="identifier">lock_guard</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">locks</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">lock_guard</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="keyword">explicit</span> <span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">);</span><br> <span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">);</span><br><br> <span class="special">~</span><span class="identifier">lock_guard</span><span class="special">();</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier">&nbsp;
&nbsp; boost</span><span class="special">::</span><span class="identifier">lock_guard</span></code></a>
&#38750;&#24120;&#31616;&#21333;: &#26500;&#36896;&#20989;&#25968;&#20256;&#20837;&#19968;&#20010;&#21487;&#38145;&#23450;&#23545;&#35937;&#65292;&#26500;&#36896;&#20989;&#25968;&#21462;&#24471;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#25152;&#26377;&#26435;&#12290; &#26512;&#26500;&#26102;&#37322;&#25918;&#25152;&#26377;&#26435;&#12290; &#36825;&#26679;&#20026;&#21487;&#38145;&#23450;&#23545;&#35937;&#25552;&#20379;&#20102;&#19968;&#20010; RAII
&#39118;&#26684;&#30340;&#22806;&#35266;, &#26041;&#20415;&#23454;&#29616;&#24322;&#24120;&#23433;&#20840;&#30340;&#38145;&#23450;&#21644;&#35299;&#38145;&#12290; &#39069;&#22806;&#30340;, &#26500;&#36896;&#20989;&#25968;the <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.constructor_adopt" title="lock_guard(Lockable &amp; m,boost::adopt_lock_t)"><code class="computeroutput"><span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code> </a>&#20801;&#35768;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">lock_guard</span></code></a>&#23545;
&#35937;&#21462;&#24471;&#24403;&#21069;&#32447;&#31243;&#24050;&#25317;&#26377;&#38145;&#23450;&#30340;&#25152;&#26377;&#26435;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.lock_guard.constructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.constructor" title="lock_guard(Lockable &amp; m)"> <code class="computeroutput"><span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;&#23545;<code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code>&#65292; &#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code></a>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;</span><span class="special"></span></code></a>&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.lock_guard.constructor_adopt"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.constructor_adopt" title="lock_guard(Lockable &amp; m,boost::adopt_lock_t)"> <code class="computeroutput"><span class="identifier">lock_guard</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#31561;&#21516;&#20110;&#20989;&#25968; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code></a>&#35843;
&#29992;&#25152;&#33719;&#24471;&#30340;&#25152;&#26377;&#26435; &#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;&#23545;<code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code> &#65292; &#25509;&#31649;<code class="computeroutput"><span class="identifier">m</span></code>
&#38145;&#23450;&#29366;&#24577;<code class="computeroutput"><span class="identifier"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.lock_guard.destructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard.destructor" title="~lock_guard()"> <code class="computeroutput"><span class="special">~</span><span class="identifier">lock_guard</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code></a> &#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.unique_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"> Class template <code class="computeroutput"><span class="identifier">unique_lock</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.defaultconstructor">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_adopt">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_defer">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_try">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_to_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_abs_time">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.destructor">
<code class="computeroutput"><span class="special">~</span><span class="identifier">unique_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex">
<code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.bool_conversion">
<code class="computeroutput"><span class="keyword">operator</span>
<span class="identifier">unspecified</span><span class="special">-</span><span class="keyword">bool</span><span class="special">-</span><span class="identifier">type</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.operator_not">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.release">
<code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">release</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">locks</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">unique_lock</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">unique_lock</span><span class="special">();</span><br> <span class="keyword">explicit</span> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">adopt_lock_t</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">defer_lock_t</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">try_to_lock_t</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">target_time</span><span class="special">);</span><br><br> <span class="special">~</span><span class="identifier">unique_lock</span><span class="special">();</span><br><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">operator</span> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;();</span><br> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">move</span><span class="special">();</span><br> <span class="identifier">unique_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">unique_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">unique_lock</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">TimeDuration</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">TimeDuration</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">relative_time</span><span class="special">);</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(::</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">absolute_time</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">bool</span> <span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">operator</span> <span class="emphasis"><em>unspecified-bool-type</em></span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span><span class="special">;</span><br><br> <span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">release</span><span class="special">();</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">&nbsp;
&nbsp; boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#27604;
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">lock_guard</span></code></a>&#22797;
&#26434;&#35768;&#22810;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier"></span></code></a>:
&#19981;&#20165;&#26159;&#23427;&#25552;&#20379;RAII&#39118;&#26684;&#30340;&#22806;&#35266;, &#23427;&#20063;&#20801;&#35768;&#25512;&#36831;&#33719;&#24471;&#38145;&#23450;, &#30452;&#21040;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
&#20989;&#25968;&#26174;&#24335;&#35843;&#29992;, &#25110;&#32773;&#25903;&#25345;&#38750;&#38459;&#22622;&#26041;&#24335;&#33719;&#24471;&#38145;&#23450;, &#25110;&#32773;&#26159;&#25903;&#25345;&#36229;&#26102;&#38145;&#23450;&#12290; &#26368;&#21518;, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier"></span></code></a>&#26512;&#26500;&#20989;&#25968;&#22312;&#21487;
&#38145;&#23450;&#23545;&#35937;&#34987;&#20854;&#38145;&#23450;&#30340;&#24773;&#20917;&#19979;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&nbsp;
&#20989;&#25968;, or otherwise adopted a lock on the <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>
object&#12290; </p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#29305;
&#21270;&#23454;&#29616;&#20102; the <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&nbsp;&#27010;&#24565;(e.g. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">timed_mutex</span><span class="special">&gt;</span></code>),&nbsp;
&#25110;&#32773;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&amp;
nbsp;&#27010;&#24565; (e.g. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;</span></code>)&#12290;
</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#22914;&#26524;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238;&#25351;&#21521;&#30340;
<code class="computeroutput"><span class="identifier">m
&#25351;&#38024;&#24182;&#19988;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true&#65292;
&#35813;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&amp;
nbsp;&#23454;&#20363;&#25317;&#26377;&#19968;&#20010;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#29366;&#24577; &#12290;&#22914;&#26524;&#35813;&#31181;&#23454;&#20363;&#34987;&#38144;&#27585;, &#26512;&#26500;&#20989;&#25968;&#20250;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()-&gt;</span><span class="identifier">unlock</span><span class="special">()</span></code></a>&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#30340;
&#25104;&#21592;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#19981;
&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;&#12290; &#29305;&#21035;&#30340;, <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#26159;
&#38024;&#23545;&#21333;&#19968;&#32447;&#31243;&#23545;&#21487;&#38145;&#23450;&#23545;&#35937;&#25152;&#26377;&#26435;&#24314;&#31435;&#27169;&#22411;&#30340;, &#36825;&#26679;&#19968;&#20010;&#23545;&#35937;&#30340;&#25104;&#21592;&#20989;&#25968;&#65288;&#21253;&#21547;&#26500;&#36896;&#26512;&#26500;&#20989;&#25968;&#65289;&#24517;&#39035;&#22312;&#21516;&#19968;&#20010;&#32447;&#31243;&#20869;&#35843;&#29992;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.defaultconstructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.defaultconstructor" title="unique_lock()"> <code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#21019;&#24314;&#19968;&#20010;&#38145;&#23545;&#35937;&#65292;&#27809;&#26377;&#20851;&#32852;&#21040;&#20219;&#20309;&#20114;&#26021;&#37327;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#65292;.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="identifier">NULL</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.constructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor" title="unique_lock(Lockable &amp; m)"> <code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#23384;&#20648; <code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code>. &#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code></a>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#65292; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code></a>&#21487;
&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="special"></span></code></a>&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.constructor_adopt"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_adopt" title="unique_lock(Lockable &amp; m,boost::adopt_lock_t)"> <code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#23545;m&#30340;&#29420;&#21344;&#38145;&#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#23384;&#20648; <code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code>
.&nbsp;&#25509;&#31649; <code class="computeroutput"><span class="identifier">m</span></code>&#25152;&#26377;&#26435;<code class="computeroutput"><span class="identifier"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.constructor_defer"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_defer" title="unique_lock(Lockable &amp; m,boost::defer_lock_t)"> <code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier"></span></code>&#23384;&#20648; <code class="computeroutput"><span class="identifier">m
&#30340;&#24341;&#29992;</span></code><code class="computeroutput"><span class="identifier"></span></code>&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.constructor_try"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_try" title="unique_lock(Lockable &amp; m,boost::try_to_lock_t)"> <code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_to_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648; <code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code><code class="computeroutput"><span class="identifier"></span></code>.
&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special"><span style="text-decoration: underline;">.</span></span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>,
&#22914;&#26524;&#35843;&#22238;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#21017;&#25509;&#31649; <code class="computeroutput"><span class="identifier">m</span></code>&#25152;
&#26377;&#26435;<code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; &#22914;&#26524;&#23545;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>
&#30340;&#35843;&#29992;&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>.<code class="computeroutput"><span class="keyword"></span></code>,
&#37027;&#20040;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&amp;
nbsp;&#21542;&#21017; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.constructor_abs_time"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.constructor_abs_time" title="unique_lock(Lockable &amp; m,boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="identifier">unique_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648; <code class="computeroutput"><span class="identifier">m&#30340;&#24341;&#29992;</span></code><code class="computeroutput"><span class="identifier"></span></code>.
&#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">abs_time</span><span class="special">)</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="special"></span></code></a>, &#22914;&#26524;&#35843;&#22238;&#36820;&#22238;
<code class="computeroutput"><span class="keyword">true</span></code>&#21017;
&#25509;&#31649; <code class="computeroutput"><span class="identifier">m</span></code>&#25152;&#26377;&#26435;. </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; &#22914;&#26524;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a> &#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,&amp;
nbsp;&#37027;&#20040; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&amp;
nbsp;&#21542;&#21017; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">abs_time</span><span class="special">)</span></code></a>&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;
&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="special"></span></code></a>&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.destructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.destructor" title="~unique_lock()"> <code class="computeroutput"><span class="special">~</span><span class="identifier">unique_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
&#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a><code class="computeroutput"><span class="special">-&gt;</span></code>
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.owns_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"> <code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="keyword"></span></code>&nbsp;&#22914;&#26524;&#35813;&#23454;&#20363;&#25317;&#26377;&#20854;&#20851;
&#32852;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code><code class="computeroutput"><span class="keyword"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"> <code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p>&#36820;&#22238;&#23545;&#35937;&#20851;&#32852;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#25351;&#38024;, &#22914;&#26524;&#27809;&#26377;&#36820;&#22238;<code class="computeroutput"><span class="identifier">NULL</span></code>&nbsp;&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.bool_conversion"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.bool_conversion" title="operator unspecified-bool-type() const"> <code class="computeroutput"><span class="keyword">operator</span>
<span class="identifier">unspecified</span><span class="special">-</span><span class="keyword">bool</span><span class="special">-</span><span class="identifier">type</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,
&#35813;&#25805;&#20316;&#31526;&#36820;&#22238;&#36923;&#36753;&#19978;&#30340; <code class="computeroutput"><span class="keyword">true</span></code>&nbsp;,
&#21542;&#21017;&#20026; <code class="computeroutput"><span class="keyword">false</span></code>
&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.operator_not"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.operator_not" title="bool operator!() const"> <code class="computeroutput"><span class="keyword">bool</span>
<span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="special">!</span></code> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.unique_lock.release"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.release" title="Lockable* release()"> <code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">release</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#31227;&#38500;&#35813;&#23545;&#35937;&#21644;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#20851;&#32852;, &#19981;&#25913;&#21464;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#29366;&#24577;&#12290; &#22914;&#26524;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">&#22312;
&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#21069;owns_lock</span><span class="special">()</span></code></a>
&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&amp;
nbsp;it&#21518;&#32493;&#20195;&#30721;&#38656;&#35201;&#20445;&#35777;&#27491;&#30830;&#35299;&#38145;&#21487;&#38145;&#23450;&#23545;&#35937;&nbsp;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#27492;&#23545;&#35937;&#20851;&#32852;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#25351;&#38024;, &#22914;&#26524;&#27809;&#26377;&#20851;&#32852;&#65292;&#21017;&#20026; <code class="computeroutput"><span class="identifier">NULL</span></code> &#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="special"></span></code>&#35813;&#23545;&#35937;&#19981;&#20877;&#21644;&#21487;&#38145;&#23450;&#23545;&#35937;&#20851;&#32852;&#12290; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="identifier">NULL</span></code>
&#24182;&#19988; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.shared_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"> Class template <code class="computeroutput"><span class="identifier">shared_lock</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.defaultconstructor">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_adopt">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_defer">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_try">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_to_lock_t</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_abs_time">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.destructor">
<code class="computeroutput"><span class="special">~</span><span class="identifier">shared_lock</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.mutex">
<code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.bool_conversion">
<code class="computeroutput"><span class="keyword">operator</span>
<span class="identifier">unspecified</span><span class="special">-</span><span class="keyword">bool</span><span class="special">-</span><span class="identifier">type</span><span class="special">()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.operator_not">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.release">
<code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">release</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">locks</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">shared_lock</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">shared_lock</span><span class="special">();</span><br> <span class="keyword">explicit</span> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">adopt_lock_t</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">defer_lock_t</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">try_to_lock_t</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">target_time</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">shared_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="special">~</span><span class="identifier">shared_lock</span><span class="special">();</span><br><br> <span class="keyword">operator</span> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">shared_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;();</span><br> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">shared_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">move</span><span class="special">();</span><br><br> <span class="identifier">shared_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">shared_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">shared_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">shared_lock</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">target_time</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">operator</span> <span class="emphasis"><em>unspecified-bool-type</em></span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#19968;
&#26679;, <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_lock</span></code></a>
models&#23545;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&#24314;
&#27169;&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier"></span></code></a>,
&#20294;&#26159;&#19981;&#20165;&#25903;&#25345;&#21487;&#38145;&#23450;&#23545;&#35937;, &#36824;&#21482;&#20849;&#20139;&#38145;&#23450;&#33719;&#21462;&#12290;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#19968;
&#26679;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier"></span></code></a>&#65292;
&#19981;&#20165;&#25552;&#20379;RAII&#39118;&#26684;&#30340;&#22806;&#35266;, &#23427;&#20063;&#20801;&#35768;&#25512;&#36831;&#33719;&#24471;&#38145;&#23450;, &#30452;&#21040;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
&#20989;&#25968;&#26174;&#24335;&#35843;&#29992;, &#25110;&#32773;&#25903;&#25345;&#38750;&#38459;&#22622;&#26041;&#24335;&#33719;&#24471;&#38145;&#23450;, &#25110;&#32773;&#26159;&#25903;&#25345;&#36229;&#26102;&#38145;&#23450;&#12290; &#26368;&#21518;, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier"></span></code></a>&#26512;&#26500;&#20989;&#25968;&#22312;&#21487;
&#38145;&#23450;&#23545;&#35937;&#34987;&#20854;&#38145;&#23450;&#30340;&#24773;&#20917;&#19979;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&nbsp;
&#20989;&#25968;, or otherwise adopted a lock on the <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>
object&#12290; </p>
<p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#22914;&#26524;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238;&#25351;&#21521;&#30340;
<code class="computeroutput"><span class="identifier">m
&#25351;&#38024;&#24182;&#19988;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true&#65292;
&#35813;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_lock</span></code></a>&#23454;
&#20363;&#25317;&#26377;&#19968;&#20010;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#29366;&#24577; &#12290;&#22914;&#26524;&#35813;&#31181;&#23454;&#20363;&#34987;&#38144;&#27585;, &#26512;&#26500;&#20989;&#25968;&#20250;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()-&gt;</span><span class="identifier">unlock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code></a>
</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_lock</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#30340;
&#25104;&#21592;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#19981;
&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;&#12290; &#29305;&#21035;&#30340;,&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_lock</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#26159;
&#38024;&#23545;&#21333;&#19968;&#32447;&#31243;&#23545;&#21487;&#38145;&#23450;&#23545;&#35937;&#25152;&#26377;&#26435;&#24314;&#31435;&#27169;&#22411;&#30340;, &#36825;&#26679;&#19968;&#20010;&#23545;&#35937;&#30340;&#25104;&#21592;&#20989;&#25968;&#65288;&#21253;&#21547;&#26500;&#36896;&#26512;&#26500;&#20989;&#25968;&#65289;&#24517;&#39035;&#22312;&#21516;&#19968;&#20010;&#32447;&#31243;&#20869;&#35843;&#29992;&#12290;<br>
&nbsp;</p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.defaultconstructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.defaultconstructor" title="shared_lock()"> <code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#21019;&#24314;&#19968;&#20010;&#19981;&#20851;&#32852;&#21040;&#20219;&#20309;&#20114;&#26021;&#37327;&#30340;&#38145;&#23450;&#23545;&#35937;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="identifier">NULL</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.constructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor" title="shared_lock(Lockable &amp; m)"> <code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;<code class="computeroutput"><span class="identifier">m</span></code>&#30340;&#24341;&#29992;&#65292; &#24182;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock_shared</span><span class="special">()</span></code></a>&#12290;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock_shared</span><span class="special">()</span></code></a>&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.constructor_adopt"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_adopt" title="shared_lock(Lockable &amp; m,boost::adopt_lock_t)"> <code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adopt_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#24403;&#21069;&#32447;&#31243;&#25317;&#26377;&#23545; <code class="computeroutput"><span class="identifier">m</span></code>&#29420;&#21344;&#38145;&#23450;<code class="computeroutput"><span class="identifier"></span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;<code class="computeroutput"><span class="identifier">m</span></code>&#30340;&#24341;&#29992;&#65292;&#25509;&#31649;<code class="computeroutput"><span class="identifier">m</span></code>&#38145;
&#23450;&#29366;&#24577; &#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.constructor_defer"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_defer" title="shared_lock(Lockable &amp; m,boost::defer_lock_t)"> <code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;<code class="computeroutput"><span class="identifier">m</span></code>&#30340;&#24341;&#29992;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>.
<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.constructor_try"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_try" title="shared_lock(Lockable &amp; m,boost::try_to_lock_t)"> <code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_to_lock_t</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;<code class="computeroutput"><span class="identifier">m</span></code>&#30340;&#24341;&#29992;&#65292;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">try_lock_shared</span><span class="special">()</span></code></a>&#65292;&#22914;&#26524;&#35843;&#29992;
&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#21017;
&#25509;&#31649;<code class="computeroutput"><span class="identifier">m</span></code>&#38145;
&#23450;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>&#65292;&#22914;&#26524;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="identifier">try_lock_shared</span><span class="special">()</span></code></a>&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
&#37027;&#20040;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
&#21542;&#21017; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.constructor_abs_time"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.constructor_abs_time" title="shared_lock(Lockable &amp; m,boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="identifier">shared_lock</span><span class="special">(</span><span class="identifier">Lockable</span>
<span class="special">&amp;</span> <span class="identifier">m</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23384;&#20648;<code class="computeroutput"><span class="identifier">m</span></code>&#30340;&#24341;&#29992;&#65292;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">abs_time</span><span class="special">)</span></code></a>&#65292;&#22914;&#26524;&#35843;&#29992;
&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#21017;
&#25509;&#31649;<code class="computeroutput"><span class="identifier">m</span></code>&#38145;
&#23450;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">m</span></code>. &#22914;&#26524;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock_shared</span><span class="special">()</span></code></a>
&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
&#37027;&#20040;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#65292;
&#21542;&#21017; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#35843;&#29992;&#20989;&#25968; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">abs_time</span><span class="special">)</span></code></a>&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;&#12290;
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.destructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.destructor" title="~shared_lock()"> <code class="computeroutput"><span class="special">~</span><span class="identifier">shared_lock</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>&#35843;
&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a><code class="computeroutput"><span class="special">-&gt;</span></code>
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.unlock_shared" title="void unlock_shared()"><code class="computeroutput"><span class="identifier">unlock_shared</span><span class="special">()</span></code></a> &#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.owns_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"> <code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="keyword"></span></code>&#22914;&#26524;&#23545;&#35937;&#25317;&#26377;&#25152;&#20851;&#32852;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#65292;&#36820;
&#22238;<code class="computeroutput"><span class="keyword">true&#12290;</span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p><code class="computeroutput"><span class="keyword"><span style="font-family: sans;">&#26080;</span></span></code>
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.mutex" title="Lockable* mutex() const"> <code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#36820;&#22238;&#23545;&#35937;&#20851;&#32852;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#25351;&#38024;, &#22914;&#26524;&#27809;&#26377;&#36820;&#22238;<code class="computeroutput"><span class="identifier">NULL</span></code> &#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.bool_conversion"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.bool_conversion" title="operator unspecified-bool-type() const"> <code class="computeroutput"><span class="keyword">operator</span>
<span class="identifier">unspecified</span><span class="special">-</span><span class="keyword">bool</span><span class="special">-</span><span class="identifier">type</span><span class="special">()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238;<code class="computeroutput"><span class="keyword">true</span></code>,
&#35813;&#25805;&#20316;&#31526;&#36820;&#22238;&#36923;&#36753;&#19978;&#30340; <code class="computeroutput"><span class="keyword">true</span></code>&nbsp;,
&#21542;&#21017;&#20026; <code class="computeroutput"><span class="keyword">false</span></code>
&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.operator_not"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.operator_not" title="bool operator!() const"> <code class="computeroutput"><span class="keyword">bool</span>
<span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="special">!</span></code> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.locks.shared_lock.release"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock.release" title="Lockable* release()"> <code class="computeroutput"><span class="identifier">Lockable</span><span class="special">*</span> <span class="identifier">release</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#31227;&#38500;&#35813;&#23545;&#35937;&#21644;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#20851;&#32852;, &#19981;&#25913;&#21464;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#29366;&#24577;&#12290; &#22914;&#26524;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">&#22312;
&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#21069;owns_lock</span><span class="special">()</span></code></a>
&#36820;&#22238; <code class="computeroutput"><span class="keyword">true</span></code>,&amp;
nbsp;it&#21518;&#32493;&#20195;&#30721;&#38656;&#35201;&#20445;&#35777;&#27491;&#30830;&#35299;&#38145;&#21487;&#38145;&#23450;&#23545;&#35937;&nbsp;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p>&#36820;&#22238;&#23545;&#35937;&#20851;&#32852;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#25351;&#38024;, &#22914;&#26524;&#27809;&#26377;&#36820;&#22238;<code class="computeroutput"><span class="identifier">NULL</span></code> &#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#35813;&#23545;&#35937;&#19981;&#20877;&#21644;&#21487;&#38145;&#23450;&#23545;&#35937;&#20851;&#32852;&#12290; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="identifier">NULL</span></code>
&#24182;&#19988; &#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">false</span></code>&#12290;
</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.upgrade_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"> Class template <code class="computeroutput"><span class="identifier">upgrade_lock</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">locks</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">upgrade_lock</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="keyword">explicit</span> <span class="identifier">upgrade_lock</span><span class="special">(</span><span class="identifier">Lockable</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">);</span><br><br> <span class="identifier">upgrade_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">upgrade_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="special">~</span><span class="identifier">upgrade_lock</span><span class="special">();</span><br><br> <span class="keyword">operator</span> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;();</span><br> <span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">move</span><span class="special">();</span><br><br> <span class="identifier">upgrade_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">upgrade_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">upgrade_lock</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">operator</span> <span class="emphasis"><em>unspecified-bool-type</em></span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#21644;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#19968;
&#26679;&#65292;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code></a>&#23545;
&#21487;&#38145;&#23450;&#27010;&#24565;&#24314;&#27169;&#65292;&#20294;&#26159;&#19981;&#20165;&#38480;&#20110;&#21487;&#38145;&#23450;&#23545;&#25552;&#20379;&#30340;&#29420;&#21344;&#38145;&#23450;&#65292;&#36824;&#25903;&#25345;&#21487;&#21319;&#32423;&#38145;&#23450;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code></a>&#19968;
&#26679;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.lock_guard" title="Class template lock_guard"><code class="computeroutput"><span class="identifier"></span></code></a>&#65292;
&#19981;&#20165;&#25552;&#20379;RAII&#39118;&#26684;&#30340;&#22806;&#35266;, &#23427;&#20063;&#20801;&#35768;&#25512;&#36831;&#33719;&#24471;&#38145;&#23450;, &#30452;&#21040;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
&#20989;&#25968;&#26174;&#24335;&#35843;&#29992;, &#25110;&#32773;&#25903;&#25345;&#38750;&#38459;&#22622;&#26041;&#24335;&#33719;&#24471;&#38145;&#23450;, &#25110;&#32773;&#26159;&#25903;&#25345;&#36229;&#26102;&#38145;&#23450;&#12290; &#26368;&#21518;, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier"></span></code></a>&#26512;&#26500;&#20989;&#25968;&#22312;&#21487;
&#38145;&#23450;&#23545;&#35937;&#34987;&#20854;&#38145;&#23450;&#30340;&#24773;&#20917;&#19979;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&nbsp;
&#20989;&#25968;, or otherwise adopted a lock on the <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>
object&#12290; </p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#22914;&#26524;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.mutex" title="Lockable* mutex() const"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()</span></code></a> &#36820;&#22238;&#25351;&#21521;&#30340;
<code class="computeroutput"><span class="identifier">m
&#25351;&#38024;&#24182;&#19988;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a> &#36820;&#22238; <code class="computeroutput"><span class="keyword">true&#65292;
&#35813;</span></code><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code></a>&#23454;
&#20363;&#25317;&#26377;&#19968;&#20010;&#21487;&#38145;&#23450;&#23545;&#35937;&#30340;&#38145;&#23450;&#29366;&#24577; &#12290;&#22914;&#26524;&#35813;&#31181;&#23454;&#20363;&#34987;&#38144;&#27585;, &#26512;&#26500;&#20989;&#25968;&#20250;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">mutex</span><span class="special">()-&gt;</span><span class="identifier">unlock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code></a>
</p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code></a>&#30340;
&#25104;&#21592;&#20989;&#25968;&#19981;&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;&#12290; &#29305;&#21035;&#30340;,&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.shared_lock" title="Class template shared_lock"><code class="computeroutput"><span class="identifier"></span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#26159;
&#38024;&#23545;&#21333;&#19968;&#32447;&#31243;&#23545;&#21487;&#38145;&#23450;&#23545;&#35937;&#25152;&#26377;&#26435;&#24314;&#31435;&#27169;&#22411;&#30340;, &#36825;&#26679;&#19968;&#20010;&#23545;&#35937;&#30340;&#25104;&#21592;&#20989;&#25968;&#65288;&#21253;&#21547;&#26500;&#36896;&#26512;&#26500;&#20989;&#25968;&#65289;&#24517;&#39035;&#22312;&#21516;&#19968;&#20010;&#32447;&#31243;&#20869;&#35843;&#29992;&#12290;<br>
<p>&nbsp;</p>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.upgrade_to_unique_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_to_unique_lock" title="Class template upgrade_to_unique_lock"> Class
template <code class="computeroutput"><span class="identifier">upgrade_to_unique_lock</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">locks</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Lockable</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">upgrade_to_unique_lock</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="keyword">explicit</span> <span class="identifier">upgrade_to_unique_lock</span><span class="special">(</span><span class="identifier">upgrade_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;&amp;</span> <span class="identifier">m_</span><span class="special">);</span><br><br> <span class="special">~</span><span class="identifier">upgrade_to_unique_lock</span><span class="special">();</span><br><br> <span class="identifier">upgrade_to_unique_lock</span><span class="special">(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_to_unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">upgrade_to_unique_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread_move_t</span><span class="special">&lt;</span><span class="identifier">upgrade_to_unique_lock</span><span class="special">&lt;</span><span class="identifier">Lockable</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">upgrade_to_unique_lock</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">operator</span> <span class="emphasis"><em>unspecified-bool-type</em></span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="keyword">bool</span> <span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_to_unique_lock" title="Class template upgrade_to_unique_lock"><code class="computeroutput"><span class="identifier">&nbsp;
&nbsp;boost</span><span class="special">::</span><span class="identifier">upgrade_to_unique_lock</span></code></a>
&#20801;&#35768;&#20020;&#26102;&#20174;&#21487;&#21319;&#32423;&#38145;&#23450;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier"></span></code></a>&#21319;
&#32423;&#21040;&#29420;&#21344;&#38145;&#23450;&#65292;&#22914;&#26524;&#20256;&#36882;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.upgrade_lock" title="Class template upgrade_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code></a>&#23545;
&#35937;&#30340;&#24341;&#29992;&#32473;&#26500;&#36896;&#20989;&#25968;&#65292;&#35813;&#23545;&#35937;&#23558;&#21319;&#32423;&#21040;&#29420;&#21344;&#25152;&#26377;&#26435;&#65292;&#24403;&#36825;&#20010;&#23545;&#35937;&#38144;&#27585;&#26102;&#65292;&#21487;&#38145;&#23450;&#23545;&#35937;&#24674;&#22797;&#20026;&#21487;&#21319;&#32423;&#38145;&#23450;&#12290; </p>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.locks.scoped_try_lock"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.locks.scoped_try_lock" title="Mutex-specific class scoped_try_lock"> Mutex-specific
class <code class="computeroutput"><span class="identifier">scoped_try_lock</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">class</span> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><br><span class="special">{</span><br><span class="keyword">private</span><span class="special">:</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&lt;</span><span class="identifier">MutexType</span><span class="special">&gt;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&lt;</span><span class="identifier">MutexType</span><span class="special">&gt;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">();</span><br> <span class="keyword">explicit</span> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">adopt_lock_t</span><span class="special">);</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">defer_lock_t</span><span class="special">);</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">&amp;</span> <span class="identifier">m_</span><span class="special">,</span><span class="identifier">try_to_lock_t</span><span class="special">);</span><br><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&lt;</span><span class="identifier">MutexType</span><span class="special">&gt;&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br> <span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&lt;</span><span class="identifier">MutexType</span><span class="special">&gt;&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">MutexType</span><span class="special">::</span><span class="identifier">scoped_try_lock</span><span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">owns_lock</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><br> <span class="identifier">MutexType</span><span class="special">*</span> <span class="identifier">mutex</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br> <span class="identifier">MutexType</span><span class="special">*</span> <span class="identifier">release</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!()</span> <span class="keyword">const</span><span class="special">;</span><br><br> <span class="keyword">typedef</span> <span class="emphasis"><em>unspecified-bool-type</em></span> <span class="identifier">bool_type</span><span class="special">;</span><br> <span class="keyword">operator</span> <span class="identifier">bool_type</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#25104;&#21592;&#31867;&#22411; <code class="computeroutput"><span class="identifier">scoped_try_lock</span></code>
is &#20026;&#24050;&#23450;&#20041;&#30340;&#19981;&#21516;&#30340; <code class="computeroutput"><span class="identifier">MutexType</span></code>
&#25552;&#20379;&#20102;&#19968;&#20010;&#31867;&#22411;&#23450;&#20041;&#12290;&#20854;&#25152;&#26377;&#30340;&#20989;&#25968;&#19982;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">MutexType</span><span class="special">&gt;</span></code></a>
&nbsp;&#20013;&#30340;<a class="link" href="../thread/synchronization.html#thread.synchronization.locks.unique_lock" title="Class template unique_lock"><code class="computeroutput"><span class="identifier">MutexType
&#31867;&#22411;&#30340;&#30456;</span></code></a><span style="font-family: monospace;"></span><code class="computeroutput"><span class="identifier"></span></code>&#21516;&#65292;
&#38500;&#20102;&#24102;&#21442;&#25968;&#26500;&#36896;&#20989;&#25968;&#20250;&#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#32780;&#19981;&#26159;&#35843;&#29992; <code class="computeroutput"><span class="identifier">m</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>&#12290; </p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.lock_functions"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.lock_functions" title="Lock functions">&nbsp;&#38145;&#23450;&#20989;&#25968;</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.lock_functions.lock_multiple">
Non-member function <code class="computeroutput"><span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">,...)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.lock_functions.lock_range">
Non-member function <code class="computeroutput"><span class="identifier">lock</span><span class="special">(</span><span class="identifier">begin</span><span class="special">,</span><span class="identifier">end</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.lock_functions.try_lock_multiple">
Non-member function <code class="computeroutput"><span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">,...)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.lock_functions.try_lock_range">
Non-member function <code class="computeroutput"><span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">begin</span><span class="special">,</span><span class="identifier">end</span><span class="special">)</span></code></a></span></dt>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.lock_functions.lock_multiple"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.lock_functions.lock_multiple" title="Non-member function lock(Lockable1,Lockable2,...)">
&#33258;&#30001;&#20989;&#25968; <code class="computeroutput"><span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">,...)</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable4</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">,</span><span class="identifier">Lockable4</span><span class="special">&amp;</span> <span class="identifier">l4</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable4</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable5</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">,</span><span class="identifier">Lockable4</span><span class="special">&amp;</span> <span class="identifier">l4</span><span class="special">,</span><span class="identifier">Lockable5</span><span class="special">&amp;</span> <span class="identifier">l5</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#38145;&#23450;&#21442;&#25968;&#25552;&#20379;&#30340; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>&amp;
nbsp;&#23545;&#35937;&#65292;&#24182;&#36991;&#20813;&#27515;&#38145;&#12290; &#35813;&#20989;&#25968;&#22312;&#22810;&#20010;&#32447;&#31243;&#24182;&#21457;&#35843;&#29992;&#38145;&#23450;&#21516;&#19968;&#32452;&#20114;&#26021;&#37327;&#65288;&#25110;&#20854;&#20182;&#21487;&#38145;&#23450;&#23545;&#35937;&#65289;&#26159;&#23433;&#20840;&#30340;&#65292;&#24182;&#19988;&#19981;&#29992;&#25351;&#23450;&#38145;&#23450;&#39034;&#24207;&#65292;&#20063;&#19981;&#29992;&#25285;&#24515;&#27515;&#38145;&#12290;
&#22914;&#26524;&#20989;&#25968;&#22312;&#38145;&#23450;&#23545;&#35937;&#26102;&#25243;&#20986;&#24322;&#24120;&#65292;&#37027;&#20040;&#22312;&#20989;&#25968;&#36864;&#20986;&#21069;&#65292;&#35813;&#20989;&#25968;&#27492;&#27425;&#35843;&#29992;&#24050;&#38145;&#23450;&#30340;&#23545;&#35937;&#20063;&#20250;&#34987;&#37322;&#25918;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#23545;&#21487;&#38145;&#23450;&#23545;&#35937;&#21152;&#38145;&#26102;&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;<span style="font-family: monospace;">&#12290;</span>
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> &#21442;&#25968;&#20013;&#25552;&#20379;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#37117;&#34987;&#21152;&#38145;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.lock_functions.lock_range"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.lock_functions.lock_range" title="Non-member function lock(begin,end)"> &#33258;&#30001;&#20989;&#25968;<code class="computeroutput"><span class="identifier">lock</span><span class="special">(</span><span class="identifier">begin</span><span class="special">,</span><span class="identifier">end</span><span class="special">)</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ForwardIterator</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">ForwardIterator</span> <span class="identifier">begin</span><span class="special">,</span><span class="identifier">ForwardIterator</span> <span class="identifier">end</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">ForwardIterator</span></code>
&#30340;<code class="computeroutput"><span class="identifier">value_type</span></code>&#38656;
&#35201;&#23454;&#29616;&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code>
concept&#12290;</a> </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#38145;&#23450;&#36845;&#20195;&#21306;&#38388;&#30340; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>&amp;
nbsp;&#23545;&#35937;&#65292;&#24182;&#36991;&#20813;&#27515;&#38145;&#12290; &#35813;&#20989;&#25968;&#22312;&#22810;&#20010;&#32447;&#31243;&#24182;&#21457;&#35843;&#29992;&#38145;&#23450;&#21516;&#19968;&#32452;&#20114;&#26021;&#37327;&#65288;&#25110;&#20854;&#20182;&#21487;&#38145;&#23450;&#23545;&#35937;&#65289;&#26159;&#23433;&#20840;&#30340;&#65292;&#24182;&#19988;&#19981;&#29992;&#25351;&#23450;&#38145;&#23450;&#39034;&#24207;&#65292;&#20063;&#19981;&#29992;&#25285;&#24515;&#27515;&#38145;&#12290;
&#22914;&#26524;&#20989;&#25968;&#22312;&#38145;&#23450;&#23545;&#35937;&#26102;&#25243;&#20986;&#24322;&#24120;&#65292;&#37027;&#20040;&#22312;&#20989;&#25968;&#36864;&#20986;&#21069;&#65292;&#35813;&#20989;&#25968;&#27492;&#27425;&#35843;&#29992;&#24050;&#38145;&#23450;&#30340;&#23545;&#35937;&#20063;&#20250;&#34987;&#37322;&#25918;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#23545;&#21487;&#38145;&#23450;&#23545;&#35937;&#21152;&#38145;&#26102;&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;&#24120;<span style="font-family: monospace;">&#12290;</span>&nbsp;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#36845;&#20195;&#21306;&#38388;&#20013;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#37117;&#34987;&#21152;&#38145;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.lock_functions.try_lock_multiple"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.lock_functions.try_lock_multiple" title="Non-member function try_lock(Lockable1,Lockable2,...)">
&#33258;&#30001;&#20989;&#25968; <code class="computeroutput"><span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">,&#12290;..)</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">&gt;</span><br><span class="keyword">int</span> <span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">&gt;</span><br><span class="keyword">int</span> <span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable4</span><span class="special">&gt;</span><br><span class="keyword">int</span> <span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">,</span><span class="identifier">Lockable4</span><span class="special">&amp;</span> <span class="identifier">l4</span><span class="special">);</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Lockable1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable4</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">Lockable5</span><span class="special">&gt;</span><br><span class="keyword">int</span> <span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">Lockable1</span><span class="special">&amp;</span> <span class="identifier">l1</span><span class="special">,</span><span class="identifier">Lockable2</span><span class="special">&amp;</span> <span class="identifier">l2</span><span class="special">,</span><span class="identifier">Lockable3</span><span class="special">&amp;</span> <span class="identifier">l3</span><span class="special">,</span><span class="identifier">Lockable4</span><span class="special">&amp;</span> <span class="identifier">l4</span><span class="special">,</span><span class="identifier">Lockable5</span><span class="special">&amp;</span> <span class="identifier">l5</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#23545;&#21442;&#25968;&#20013;&#30340;&#21487;&#38145;&#23450;&#23545;&#35937;&#20381;&#27425;&#35843;&#29992; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&nbsp;
&#20989;&#25968;, &#22914;&#26524;&#26377;&#19968;&#20010;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a> &#35843;&#29992;&#36820;&#22238; <code class="computeroutput"><span class="keyword">false&#65292;</span></code>&#37027;
&#20040;&#24050;&#32463;&#33719;&#24471;&#30340;&#38145;&#23450;&#23601;&#20250;&#34987;&#37322;&#25918;&#65292;&#24182;&#36820;&#22238;&#36825;&#20010;&#38145;&#23450;&#22833;&#36133;&#23545;&#35937;&#22312;&#21442;&#25968;&#20013;&#30340;&#24207;&#21495;&#65288;&#20197;0&#20026;&#22522;&#25968;&#65289;&#12290; </p>
<p> &#22914;&#26524;&#26377;&#19968;&#20010; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>
&#35843;&#29992;&#25243;&#20986;&#24322;&#24120;&#65292; &#37027;&#20040;&#24050;&#32463;&#33719;&#24471;&#30340;&#38145;&#23450;&#20250;&#22312;&#20989;&#25968;&#36864;&#20986;&#21069;&#37322;&#25918;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="special"></span></code>&nbsp;&#22914;&#26524;&#25152;&#26377;&#23545;&#35937;&#37117;&#25104;&#21151;
&#21152;&#38145;&#65292;&#36820;&#22238;-1&#65292; &#21542;&#21017;&#36820;&#22238;&#31532;&#19968;&#20010;&#22833;&#36133;&#23545;&#35937;&#30340;&#24207;&#21495;&#65288;&#20197;0&#20026;&#22522;&#25968;&#65289;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;
&#24120;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#22914;&#26524;&#20989;&#25968;&#36820;&#22238; <code class="computeroutput"><span class="special">-</span><span class="number">1</span></code>,&amp;
nbsp;&#25152;&#26377;&#23545;&#35937;&#37117;&#34987;&#21152;&#38145;&#65292;&#21542;&#21017;&#21442;&#25968;&#20013;&#30340;&#23545;&#35937;&#37117;&#19981;&#20250;&#21152;&#38145;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.lock_functions.try_lock_range"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.lock_functions.try_lock_range" title="Non-member function try_lock(begin,end)"> &#33258;&#30001;&#20989;&#25968; <code class="computeroutput"><span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">begin</span><span class="special">,</span><span class="identifier">end</span><span class="special">)</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ForwardIterator</span><span class="special">&gt;</span><br><span class="identifier">ForwardIterator</span> <span class="identifier">try_lock</span><span class="special">(</span><span class="identifier">ForwardIterator</span> <span class="identifier">begin</span><span class="special">,</span><span class="identifier">ForwardIterator</span> <span class="identifier">end</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span><br>
</dt>
<dd>
<p><code class="computeroutput"><span class="identifier">ForwardIterator</span></code>
&#30340;<code class="computeroutput"><span class="identifier">value_type</span></code>&#38656;
&#35201;&#23454;&#29616;&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code>
concept&#12290;</a> </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#36890;&#36807;&#20989;&#25968; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#38145;&#23450;&#36845;&#20195;&#21306;&#38388;&#30340;
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code></a>&amp;
nbsp;&#23545;&#35937;, &#22914;&#26524;&#26377;&#19968;&#20010;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a> &#35843;&#29992;&#36820;&#22238; <code class="computeroutput"><span class="keyword">false&#65292;</span></code>&#37027;
&#20040;&#24050;&#32463;&#33719;&#24471;&#30340;&#38145;&#23450;&#23601;&#20250;&#34987;&#37322;&#25918;&#65292;&#24182;&#36820;&#22238;&#36825;&#20010;&#38145;&#23450;&#22833;&#36133;&#23545;&#35937;&#23545;&#24212;&#30340;&#36845;&#20195;&#22120;&#12290; </p>
<p> &#22914;&#26524;&#26377;&#19968;&#20010; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>
&#35843;&#29992;&#25243;&#20986;&#24322;&#24120;&#65292; &#37027;&#20040;&#24050;&#32463;&#33719;&#24471;&#30340;&#38145;&#23450;&#20250;&#22312;&#20989;&#25968;&#36864;&#20986;&#21069;&#37322;&#25918;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier"></span></code>&#22914;&#26524;&#25152;&#26377;&#23545;&#35937;&#37117;&#25104;&#21151;&#21152;&#38145;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="identifier">end</span></code>&#65292;
&#21542;&#21017;&#36820;&#22238;&#31532;&#19968;&#20010;&#22833;&#36133;&#23545;&#35937;&#23545;&#24212;&#30340;&#36845;&#20195;&#22120;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#21487;&#33021;&#25243;&#20986;&#30340;&#24322;
&#24120;&#12290; </p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#22914;&#26524;&#20989;&#25968;&#36820;&#22238;<code class="computeroutput"><span class="identifier">end</span></code>
<code class="computeroutput"><span class="number"></span></code>,
&#36845;&#20195;&#21306;&#38388;&#20869;&#30340;&#23545;&#35937;&#37117;&#34987;&#21152;&#38145;&#65292;&#21542;&#21017;&#36845;&#20195;&#21306;&#38388;&#20869;&#30340;&#23545;&#35937;&#37117;&#19981;&#20250;&#21152;&#38145;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.mutex_types"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types" title="Mutex Types"> Mutex Types</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex">
Class <code class="computeroutput"><span class="identifier">mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.try_mutex">
Typedef <code class="computeroutput"><span class="identifier">try_mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.timed_mutex">
Class <code class="computeroutput"><span class="identifier">timed_mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex">
Class <code class="computeroutput"><span class="identifier">recursive_mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_try_mutex">
Typedef <code class="computeroutput"><span class="identifier">recursive_try_mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex">
Class <code class="computeroutput"><span class="identifier">recursive_timed_mutex</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.shared_mutex">
Class <code class="computeroutput"><span class="identifier">shared_mutex</span></code></a></span></dt>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"> Class <code class="computeroutput"><span class="identifier">mutex</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex.nativehandle">
Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">mutex</span><span class="special">:</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">noncopyable</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">mutex</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">mutex</span><span class="special">();</span><br> <br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br> <span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span><br> <br> <span class="keyword">typedef</span> <span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">mutex</span><span class="special">&gt;</span> <span class="identifier">scoped_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">unspecified</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">scoped_try_lock</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier">&nbsp; &nbsp; boost</span><span class="special">::</span><span class="identifier">mutex</span></code></a>&#23454;
&#29616;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable </span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept">concept</a>&nbsp;&#65292;
&#25552;&#20379;&#19968;&#20010;&#29420;&#21344;&#24335;&#30340;&#20114;&#26021;&#37327;&#12290;&#23545;&#20110;&#19968;&#20010;&#23454;&#20363;&#26368;&#22810;&#20801;&#35768;&#19968;&#20010;&#32447;&#31243;&#25317;&#26377;&#20854;&#38145;&#23450; &#12290;&#25903;&#25345;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a> &#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a> &#24182;&#21457;&#35843;&#29992;&#12290;
</p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_types.mutex.nativehandle"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex.nativehandle" title="Member function native_handle()"> Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br><span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#36820;&#22238;&#19968;&#20010;&#31995;&#32479;&#24179;&#21488;&#30456;&#20851;&#20114;&#26021;&#31867;&#22411;&#23454;&#20363;&#65288; <code class="computeroutput"><span class="identifier">native_handle_type</span></code>
&#65289;&#65292; &#21487;&#20197;&#36890;&#36807;&#31995;&#32479;&#24179;&#21488;&#20989;&#25968;&#35775;&#38382;&#35813;&#23454;&#20363;&#12290;&#22914;&#26524;&#24179;&#21488;&#19978;&#27809;&#26377;&#36825;&#31181;&#31867;&#22411;, &#20989;&#25968;<code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code> &#21644;<code class="computeroutput"><span class="identifier">native_handle_type
&#31867;&#22411;<span style="font-family: sans;">&#20063;&#19981;&#20250;&#23384;&#22312;&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.try_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.try_mutex" title="Typedef try_mutex"> Typedef <code class="computeroutput"><span class="identifier">try_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">typedef</span> <span class="identifier">mutex</span> <span class="identifier">try_mutex</span><span class="special">;</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.try_mutex" title="Typedef try_mutex"><code class="computeroutput"><span class="identifier">&nbsp; &nbsp; boost</span><span class="special">::</span><span class="identifier">try_mutex</span></code></a>&amp;
nbsp;&#26159;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span></code></a>&#30340;
&#31867;&#22411;&#23450;&#20041;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier"></span></code></a>,
&#29992;&#20110;&#20860;&#23481;&#20197;&#21069;&#30340;&#29256;&#26412;&#12290; </p>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.timed_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.timed_mutex" title="Class timed_mutex"> Class <code class="computeroutput"><span class="identifier">timed_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.timed_mutex.nativehandle">
Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">timed_mutex</span><span class="special">:</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">noncopyable</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">timed_mutex</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">timed_mutex</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">system_time</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">TimeDuration</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">TimeDuration</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="identifier">relative_time</span><span class="special">);</span><br><br> <span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br> <span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span><br><br> <span class="keyword">typedef</span> <span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">timed_mutex</span><span class="special">&gt;</span> <span class="identifier">scoped_timed_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">unspecified</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">scoped_try_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">scoped_timed_lock</span> <span class="identifier">scoped_lock</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.timed_mutex" title="Class timed_mutex"><code class="computeroutput"><span class="identifier">&nbsp; &nbsp;boost</span><span class="special">::</span><span class="identifier">timed_mutex</span></code></a>
&#23454;&#29616;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&nbsp;&#65292;&#25552;&#20379;&#19968;&#20010;&#29420;&#21344;&#24335;&#30340;&#20114;&#26021;&#37327;&#12290;&#23545;&#20110;&#19968;&#20010;&#23454;&#20363;&#26368;&#22810;&#20801;&#35768;&#19968;&#20010;&#32447;&#31243;&#25317;&#26377;&#20854;&#38145;&#23450; &#12290;&#25903;&#25345;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a> &#65292;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration" title="template&lt;typename DurationType&gt; bool timed_lock(DurationType const&amp; rel_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a>&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a> &#24182;&#21457;&#35843;&#29992;&#12290;
</p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_types.timed_mutex.nativehandle"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.timed_mutex.nativehandle" title="Member function native_handle()"> Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br><span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#36820;&#22238;&#19968;&#20010;&#31995;&#32479;&#24179;&#21488;&#30456;&#20851;&#20114;&#26021;&#31867;&#22411;&#23454;&#20363;&#65288; <code class="computeroutput"><span class="identifier">native_handle_type</span></code>
&#65289;&#65292; &#21487;&#20197;&#36890;&#36807;&#31995;&#32479;&#24179;&#21488;&#20989;&#25968;&#35775;&#38382;&#35813;&#23454;&#20363;&#12290;&#22914;&#26524;&#24179;&#21488;&#19978;&#27809;&#26377;&#36825;&#31181;&#31867;&#22411;, &#20989;&#25968;<code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code> &#21644;<code class="computeroutput"><span class="identifier">native_handle_type
&#31867;&#22411;<span style="font-family: sans;">&#20063;&#19981;&#20250;&#23384;&#22312;&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.recursive_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"> Class <code class="computeroutput"><span class="identifier">recursive_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex.nativehandle">
Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">recursive_mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">recursive_mutex</span><span class="special">:</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">noncopyable</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">recursive_mutex</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">recursive_mutex</span><span class="special">();</span><br> <br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br> <span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span><br> <br> <span class="keyword">typedef</span> <span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">recursive_mutex</span><span class="special">&gt;</span> <span class="identifier">scoped_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">unspecified</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">scoped_try_lock</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier">&nbsp; &nbsp; boost</span><span class="special">::</span><span class="identifier">recursive_mutex</span></code></a>&amp;
nbsp;&#23454;&#29616;&#20102; the <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>&amp;
nbsp;&#65292;&#25552;&#20379;&#19968;&#20010;&#36882;&#24402;&#24335;&#30340;&#20114;&#26021;&#37327;&nbsp;&#12290;&#23545;&#20110;&#19968;&#20010;&#23454;&#20363;&#26368;&#22810;&#20801;&#35768;&#19968;&#20010;&#32447;&#31243;&#25317;&#26377;&#20854;&#38145;&#23450; &#12290;&#25903;&#25345;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&nbsp;
&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a> &#24182;&#21457;&#35843;&#29992;&#12290;
&#22914;&#26524;&#19968;&#20010;&#32447;&#31243;&#24050;&#32463;&#38145;&#23450;&#19968;&#20010;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_mutex</span></code></a>&#23454;
&#20363;&#65292; &#37027;&#20040;&#36825;&#20010;&#32447;&#31243;&#21487;&#20197;&#22810;&#27425;&#36890;&#36807;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
&#25110; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#38145;&#23450;&#36825;&#20010;&#23454;&#20363;&#65292;
&#38024;&#23545;&#27599;&#19968;&#27425;&#25104;&#21151;&#30340;&#38145;&#23450;&#21160;&#20316;&#65292;&#38656;&#35201;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#26469;&#25509;&#35302;&#38145;&#23450;&#12290;
</p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_types.recursive_mutex.nativehandle"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex.nativehandle" title="Member function native_handle()"> Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br><span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#36820;&#22238;&#19968;&#20010;&#31995;&#32479;&#24179;&#21488;&#30456;&#20851;&#20114;&#26021;&#31867;&#22411;&#23454;&#20363;&#65288; <code class="computeroutput"><span class="identifier">native_handle_type</span></code>
&#65289;&#65292; &#21487;&#20197;&#36890;&#36807;&#31995;&#32479;&#24179;&#21488;&#20989;&#25968;&#35775;&#38382;&#35813;&#23454;&#20363;&#12290;&#22914;&#26524;&#24179;&#21488;&#19978;&#27809;&#26377;&#36825;&#31181;&#31867;&#22411;, &#20989;&#25968;<code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code> &#21644;<code class="computeroutput"><span class="identifier">native_handle_type
&#31867;&#22411;<span style="font-family: sans;">&#20063;&#19981;&#20250;&#23384;&#22312;&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.recursive_try_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_try_mutex" title="Typedef recursive_try_mutex"> Typedef <code class="computeroutput"><span class="identifier">recursive_try_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">recursive_mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">typedef</span> <span class="identifier">recursive_mutex</span> <span class="identifier">recursive_try_mutex</span><span class="special">;</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_try_mutex" title="Typedef recursive_try_mutex"><code class="computeroutput"><span class="identifier">&nbsp;
&nbsp; boost</span><span class="special">::</span><span class="identifier">recursive_try_mutex</span></code></a>&amp;
nbsp;&#26159; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_mutex</span></code></a>&#30340;
&#31867;&#22411;&#23450;&#20041;&#65292;, &#29992;&#20110;&#20860;&#23481;&#20197;&#21069;&#30340;&#29256;&#26412;&#12290; </p>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.recursive_timed_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex" title="Class recursive_timed_mutex"> Class <code class="computeroutput"><span class="identifier">recursive_timed_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex.nativehandle">
Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">recursive_mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">recursive_timed_mutex</span><span class="special">:</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">noncopyable</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">recursive_timed_mutex</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">recursive_timed_mutex</span><span class="special">();</span><br> <br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">system_time</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">TimeDuration</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">TimeDuration</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="identifier">relative_time</span><span class="special">);</span><br><br> <span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br> <span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span><br> <br> <span class="keyword">typedef</span> <span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">recursive_timed_mutex</span><span class="special">&gt;</span> <span class="identifier">scoped_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">unspecified</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">scoped_try_lock</span><span class="special">;</span><br> <span class="keyword">typedef</span> <span class="identifier">scoped_lock</span> <span class="identifier">scoped_timed_lock</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<p> <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex" title="Class recursive_timed_mutex"><code class="computeroutput"><span class="identifier">&nbsp;
&nbsp; </span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex" title="Class recursive_timed_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_timed_mutex</span></code></a>
&#23454;&#29616;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable" title="TimedLockable Concept"><code class="computeroutput"><span class="identifier">TimedLockable</span></code>
concept</a>&nbsp;&#65292;&#25552;&#20379;&#19968;&#20010;&#36882;&#24402;&#24335;&#30340;&#20114;&#26021;&#37327;&#12290;&#23545;&#20110;&#19968;&#20010;&#23454;&#20363;&#26368;&#22810;&#20801;&#35768;&#19968;&#20010;&#32447;&#31243;&#25317;&#26377;&#20854;&#38145;&#23450; &#12290;&#25903;&#25345;&#20989;&#25968;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a> &#65292;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration" title="template&lt;typename DurationType&gt; bool timed_lock(DurationType const&amp; rel_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a>&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>
&#24182;&#21457;&#35843;&#29992;&#12290;&#22914;&#26524;&#19968;&#20010;&#32447;&#31243;&#24050;&#32463;&#38145;&#23450;&#19968;&#20010;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex" title="Class recursive_timed_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_timed_mutex</span></code></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier"></span></code></a>&#23454;&#20363;&#65292;
&#37027;&#20040;&#36825;&#20010;&#32447;&#31243;&#21487;&#20197;&#22810;&#27425;&#36890;&#36807;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
&#65292;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock_duration" title="template&lt;typename DurationType&gt; bool timed_lock(DurationType const&amp; rel_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a>&#25110; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>&#38145;&#23450;&#36825;&#20010;&#23454;&#20363;&#65292;
&#38024;&#23545;&#27599;&#19968;&#27425;&#25104;&#21151;&#30340;&#38145;&#23450;&#21160;&#20316;&#65292;&#38656;&#35201;&#35843;&#29992;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.unlock" title="void unlock()"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>&#26469;&#25509;&#35302;&#38145;&#23450;&#12290;
</p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.mutex_types.recursive_timed_mutex.nativehandle"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.recursive_timed_mutex.nativehandle" title="Member function native_handle()"> Member function <code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">native_handle_type</span><span class="special">;</span><br><span class="identifier">native_handle_type</span> <span class="identifier">native_handle</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#36820;&#22238;&#19968;&#20010;&#31995;&#32479;&#24179;&#21488;&#30456;&#20851;&#20114;&#26021;&#31867;&#22411;&#23454;&#20363;&#65288; <code class="computeroutput"><span class="identifier">native_handle_type</span></code>
&#65289;&#65292; &#21487;&#20197;&#36890;&#36807;&#31995;&#32479;&#24179;&#21488;&#20989;&#25968;&#35775;&#38382;&#35813;&#23454;&#20363;&#12290;&#22914;&#26524;&#24179;&#21488;&#19978;&#27809;&#26377;&#36825;&#31181;&#31867;&#22411;, &#20989;&#25968;<code class="computeroutput"><span class="identifier">native_handle</span><span class="special">()</span></code> &#21644;<code class="computeroutput"><span class="identifier">native_handle_type
&#31867;&#22411;<span style="font-family: sans;">&#20063;&#19981;&#20250;&#23384;&#22312;&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290;. </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.mutex_types.shared_mutex"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_types.shared_mutex" title="Class shared_mutex"> Class <code class="computeroutput"><span class="identifier">shared_mutex</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">shared_mutex</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">shared_mutex</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">shared_mutex</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">shared_mutex</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">lock_shared</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock_shared</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock_shared</span><span class="special">(</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">timeout</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">unlock_shared</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">try_lock</span><span class="special">();</span><br> <span class="keyword">bool</span> <span class="identifier">timed_lock</span><span class="special">(</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">timeout</span><span class="special">);</span><br> <span class="keyword">void</span> <span class="identifier">unlock</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">lock_upgrade</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock_upgrade</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">unlock_upgrade_and_lock</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock_and_lock_upgrade</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock_and_lock_shared</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">unlock_upgrade_and_lock_shared</span><span class="special">();</span><br><span class="special">};</span>
</pre>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_mutex</span></code>&amp;
nbsp;&#25552;&#20379;&#20102;&#19968;&#20010;multiple-reader / single-writer&#20114;&#26021;&#37327;&#65292;&#23454;&#29616;&#20102;<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.upgrade_lockable" title="UpgradeLockable Concept"><code class="computeroutput"><span class="identifier">UpgradeLockable</span></code>
concept</a>.&#12290; </p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#20801;&#35768;&#24182;&#21457;&#35843;&#29992;&#20989;&#25968;
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.lock" title="void lock()"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>,
<a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.lockable.try_lock" title="bool try_lock()"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.timed_lockable.timed_lock" title="bool timed_lock(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock</span><span class="special">()</span></code></a>, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.lock_shared" title="void lock_shared()"><code class="computeroutput"><span class="identifier">lock_shared</span><span class="special">()</span></code></a>, <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.try_lock_shared" title="bool try_lock_shared()"><code class="computeroutput"><span class="identifier">try_lock_shared</span><span class="special">()</span></code></a>&nbsp;
&#21644; <a class="link" href="../thread/synchronization.html#thread.synchronization.mutex_concepts.shared_lockable.timed_lock_shared" title="bool timed_lock_shared(boost::system_time const&amp; abs_time)"><code class="computeroutput"><span class="identifier">timed_lock_shared</span><span class="special">()</span></code></a>&#12290;&nbsp;
</p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.condvar_ref"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref" title="Condition Variables"> Condition Variables</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable">
Class <code class="computeroutput"><span class="identifier">condition_variable</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any">
Class <code class="computeroutput"><span class="identifier">condition_variable_any</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition">
Typedef <code class="computeroutput"><span class="identifier">condition</span></code></a></span></dt>
</dl>
</div>
<a name="thread.synchronization.condvar_ref.synopsis"></a>
<h5><a name="id3556971"></a>&nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.synopsis">&#27010;
&#36848;</a> </h5>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &#31867;&#22411; <code class="computeroutput"><span class="identifier">condition_variable</span></code>
&#21644; <code class="computeroutput"><span class="identifier">condition_variable_any</span></code>
&#25552;&#20379;&#19968;&#20010;&#31181;&#26426;&#21046;&#65292;&#19968;&#20010;&#32447;&#31243;&#21487;&#20197;&#31561;&#24453;&#21478;&#22806;&#19968;&#20010;&#32447;&#31243;&#20869;&#26576;&#20010;&#20107;&#20214;&#21457;&#29983;&#30340;&#36890;&#30693;&#12290; &#36890;&#24120;&#30340;&#24212;&#29992;&#27169;&#24335;&#26159;&#19968;&#20010;&#32447;&#31243;&#38145;&#23450;&#19968;&#20010;&#20114;&#26021;&#37327;&#65292;&#28982;&#21518;&#36890;&#36807;&#20989;&#25968;<code class="computeroutput"><span class="identifier">wait</span></code>&#31561;
&#24453;&#19968;&#20010;<code class="computeroutput"><span class="identifier">condition_variable</span></code>
&#25110; <code class="computeroutput"><span class="identifier">condition_variable_any</span></code>&#23454;
&#20363;&#65292;&#24403;&#32447;&#31243;&#20174;<code class="computeroutput"><span class="identifier">wait</span></code>
&#20989;&#25968;&#28608;&#27963;&#26102; &#65292; &#26816;&#26597;&#29305;&#23450;&#30340;&#26465;&#20214;&#26159;&#21542;&#28385;&#36275;&#65292;&#22914;&#26524;&#28385;&#36275;&#65292;&#32447;&#31243;&#32487;&#32493;&#25191;&#34892;&#65307;&#22914;&#26524;&#19981;&#28385;&#36275;&#65292;&#32447;&#31243;&#32487;&#32493;&#31561;&#24453;&#12290;&#26368;&#31616;&#21333;&#30340;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#26465;&#20214;&#21482;&#26159;&#19968;&#20010;&#24067;&#23572;&#21464;&#37327;&#12290; </p>
<pre class="programlisting"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition_variable</span> <span class="identifier">cond</span><span class="special">;</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span> <span class="identifier">mut</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">data_ready</span><span class="special">;</span><br><br><span class="keyword">void</span> <span class="identifier">process_data</span><span class="special">();</span><br><br><span class="keyword">void</span> <span class="identifier">wait_for_data_to_process</span><span class="special">()</span><br><span class="special">{</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">mut</span><span class="special">);</span><br> <span class="keyword">while</span><span class="special">(!</span><span class="identifier">data_ready</span><span class="special">)</span><br> <span class="special">{</span><br> <span class="identifier">cond</span><span class="special">.</span><span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock</span><span class="special">);</span><br> <span class="special">}</span><br> <span class="identifier">process_data</span><span class="special">();</span><br><span class="special">}</span>
</pre>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#35831;&#27880;&#24847; <code class="computeroutput"><span class="identifier">lock</span></code>
&#23545;&#35937;&#20250;&#20256;&#36882;&#32473; <code class="computeroutput"><span class="identifier">wait</span></code>&#20989;&#25968;: <code class="computeroutput"><span class="identifier">wait</span></code>
&#20989;&#25968;&#20250;&#33258;&#21160;&#23558;&#32447;&#31243;&#28155;&#21152;&#21040;&#31561;&#24453;&#26465;&#20214;&#21464;&#37327;&#30340;&#32447;&#31243;&#38598;&#21512;&#20013;&#65292;&#24182;&#19988;&#35299;&#38145;&#20256;&#36882;&#36827;&#26469;&#30340;&#20114;&#26021;&#37327;&#12290;
&#24403;&#32447;&#31243;&#34987;&#21796;&#37266;&#65292;&#20989;&#25968;&#36864;&#20986;&#21069;&#20114;&#26021;&#37327;&#20250;&#20877;&#27425;&#34987;&#38145;&#23450;&#12290;&#36825;&#26679;&#20801;&#35768;&#20854;&#20182;&#32447;&#31243;&#33719;&#21462;&#20114;&#26021;&#37327;&#26469;&#26356;&#26032;&#20849;&#20139;&#30340;&#25968;&#25454;&#65292;&#30830;&#20445;&#26465;&#20214;&#21464;&#37327;&#20851;&#32852;&#30340;&#25968;&#25454;&#34987;&#27491;&#30830;&#21516;&#27493;&#12290; </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &#21516;&#26102;&#65292;&#21478;&#22806;&#30340;&#32447;&#31243;&#23558;&#36825;&#20010;&#26465;&#20214;&#32622;&#20026;<code class="computeroutput"><span class="keyword">true</span></code>&#65292;and
&#28982;&#21518;&#23545;&#26465;&#20214;&#21464;&#37327;&#35843;&#29992;&#20989;&#25968; <code class="computeroutput"><span class="identifier">notify_one</span></code>&nbsp;
&#25110; <code class="computeroutput"><span class="identifier">notify_all</span></code>&#26469;
&#21796;&#37266;&#31561;&#24453;&#35813;&#26465;&#20214;&#21464;&#37327;&#30340;&#19968;&#20010;&#32447;&#31243;&#25110;&#22810;&#20010;&#32447;&#31243; &#12290; </p>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">retrieve_data</span><span class="special">();</span><br><span class="keyword">void</span> <span class="identifier">prepare_data</span><span class="special">();</span><br><br><span class="keyword">void</span> <span class="identifier">prepare_data_for_processing</span><span class="special">()</span><br><span class="special">{</span><br> <span class="identifier">retrieve_data</span><span class="special">();</span><br> <span class="identifier">prepare_data</span><span class="special">();</span><br> <span class="special">{</span><br> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">lock_guard</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;</span> <span class="identifier">lock</span><span class="special">(</span><span class="identifier">mut</span><span class="special">);</span><br> <span class="identifier">data_ready</span><span class="special">=</span><span class="keyword">true</span><span class="special">;</span><br> <span class="special">}</span><br> <span class="identifier">cond</span><span class="special">.</span><span class="identifier">notify_one</span><span class="special">();</span><br><span class="special">}</span>
</pre>
<p>&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;&#27880;&#24847;&#65292;&#21516;&#19968;&#20010;&#20114;&#26021;&#37327;&#22312;&#20849;&#20139;&#25968;&#25454;&#34987;&#26356;&#26032;&#21069;&#34987;&#38145;&#23450;&#65292;&#20294;&#26159;&#36825;&#20010;&#20114;&#26021;&#37327;&#38145;&#23450;&#33539;&#22260;&#19981;&#38656;&#35201;&#21253;&#21547;&#20989;&#25968;<code class="computeroutput"><span class="identifier">notify_one</span></code>.
&#35843;&#29992;&#12290;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#36825;&#20010;&#20363;&#23376;&#20351;&#29992;&#19968;&#20010;<code class="computeroutput"><span class="identifier">condition_variable
&#23545;&#35937;</span></code>&#65292;&#22914;&#26524;&#25442;&#25104;<code class="computeroutput"><span class="identifier">condition_variable_any</span></code>&#23545;
&#35937;&#20063;&#26159;&#21516;&#26679;&#36866;&#29992;<code class="computeroutput"><span class="identifier"></span></code>&#12290;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<code class="computeroutput"><span class="identifier">condition_variable_any</span></code>
&#26356;&#21152;&#36890;&#29992;&#65292;&#25903;&#25345;&#21644;&#20854;&#20182;&#31867;&#22411;&#30340;&#20114;&#26021;&#37327;&#21644;&#38145;&#23450;&#31867;&#22411;&#65292;&#32780;<code class="computeroutput"><span class="identifier">condition_variable</span></code>
&#35201;&#27714;&#20256;&#36882;&#32473;&#20989;&#25968;<code class="computeroutput"><span class="identifier">wait</span></code>&#30340;&#26159; <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;</span></code>&#23545;
&#35937;&#12290;&#36825;&#26679;&#22312;&#24050;&#30693;&#20114;&#26021;&#37327;&#30340;&#26465;&#20214;&#19979;&#65292; <code class="computeroutput"><span class="identifier">condition_variable</span></code>
&#21487;&#20197;&#20570;&#36866;&#24403;&#30340;&#20248;&#21270;&#65307; <code class="computeroutput"><span class="identifier">condition_variable_any</span></code>
&#31867;&#22411;&#30340;&#23454;&#29616;&#27604; <code class="computeroutput"><span class="identifier">condition_variable</span></code>&#22797;
&#26434;&#35768;&#22810;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.condvar_ref.condition_variable"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable" title="Class condition_variable"> Class <code class="computeroutput"><span class="identifier">condition_variable</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.constructor">
<code class="computeroutput"><span class="identifier">condition_variable</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.destructor">
<code class="computeroutput"><span class="special">~</span><span class="identifier">condition_variable</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.notify_one">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">notify_one</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.notify_all">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">notify_all</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.wait">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.wait_predicate">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait_rel">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">duration_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait_predicate">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">condition_variable</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">namespace</span> <span class="identifier">boost</span><br><span class="special">{</span><br> <span class="keyword">class</span> <span class="identifier">condition_variable</span><br> <span class="special">{</span><br> <span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">condition_variable</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">condition_variable</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">notify_one</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">notify_all</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">duration_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">duration_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="comment">// backwards compatibility<br></span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">xtime</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">xtime</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br> <span class="special">};</span><br><span class="special">}</span>
</pre>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.constructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.constructor" title="condition_variable()"> <code class="computeroutput"><span class="identifier">condition_variable</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#21019;&#24314;&#19968;&#20010;&#26465;&#20214;&#21464;&#37327;&#23545;&#35937;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#29616;&#38169;&#35823;&#65292;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error&#12290;</span></code>
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.destructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.destructor" title="~condition_variable()"> <code class="computeroutput"><span class="special">~</span><span class="identifier">condition_variable</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#25152;&#26377;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#30340;&#32447;&#31243;&#24471;&#21040;&#36890;&#30693;&#65288;&#36890;&#36807;&#35843;&#29992;&#20989;&#25968;<code class="computeroutput"><span class="identifier">notify_one</span></code> &#25110;<code class="computeroutput"><span class="identifier">notify_all&#65292;</span></code><code class="computeroutput"><span class="identifier"></span></code>
&#23613;&#31649;&#19981;&#26159;&#27599;&#20010;&#29420;&#31435;&#30340;&#20989;&#25968;&#35843;&#29992;<code class="computeroutput"><span class="identifier">wait</span></code>&#25110; <code class="computeroutput"><span class="identifier">timed_wait</span></code>
&nbsp;&#37117;&#36820;&#22238;)&#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#38144;&#27585;&#26465;&#20214;&#21464;&#37327;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.notify_one"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.notify_one" title="void notify_one()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">notify_one</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524;&#26377;&#32447;&#31243;&#24403;&#21069;&#22240;&#20026;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#65288;<code class="computeroutput"><span class="identifier">wait</span></code> &#25110;<code class="computeroutput"><span class="identifier">timed_wait</span></code>&#65289;
&#38459;&#22622;&#65292;&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#20250;&#35299;&#38500;&#19968;&#20010;&#32447;&#31243;&#30340;&#38459;&#22622;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.notify_all"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.notify_all" title="void notify_all()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">notify_all</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524;&#26377;&#32447;&#31243;&#24403;&#21069;&#22240;&#20026;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#65288;<code class="computeroutput"><span class="identifier">wait</span></code> &#25110;<code class="computeroutput"><span class="identifier">timed_wait</span></code>&#65289;
&#38459;&#22622;&#65292;&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#20250;&#35299;&#38500;&#25152;&#26377;&#36825;&#20123;&#32447;&#31243;&#30340;&#38459;&#22622;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.wait"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.wait" title="void wait(boost::unique_lock&lt;boost::mutex&gt;&amp; lock)"> <code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#34987;&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;,
&#25110;&#32773;&#34987;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#20854;&#20182;&#32447;&#31243;&#38145;&#23450;,&#25110;&#32773;&#25152;&#26377;&#22312;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#32447;&#31243;&#20256;&#36882;&#30340;<code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#25351;&#21521;&#30456;&#21516;&#30340;&#20114;&#26021;&#37327;&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;
&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.wait_predicate"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.wait_predicate" title="template&lt;typename predicate_type&gt; void wait(boost::unique_lock&lt;boost::mutex&gt;&amp; lock, predicate_type pred)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> As-if </p>
<pre class="programlisting"><span class="keyword">while</span><span class="special">(!</span><span class="identifier">pred</span><span class="special">())</span><br><span class="special">{</span><br> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock</span><span class="special">);</span><br><span class="special">}</span>
</pre>
<p> </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.timed_wait"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait" title="bool timed_wait(boost::unique_lock&lt;boost::mutex&gt;&amp; lock,boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="keyword">bool</span>
<span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#34987;&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;,
&#25110;&#32773;&#34987;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#20854;&#20182;&#32447;&#31243;&#38145;&#23450;,&#25110;&#32773;&#25152;&#26377;&#22312;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#32447;&#31243;&#20256;&#36882;&#30340;<code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#25351;&#21521;&#30456;&#21516;&#30340;&#20114;&#26021;&#37327;&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#21478;&#22806;&#22312;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">get_system_time</span><span class="special">()</span></code>&#24471;&#21040;&#30340;&#26102;&#38388;&#36229;&#36807;<code class="computeroutput"><span class="identifier">abs_time
&#21518;&#32447;&#31243;&#20063;&#20250;&#35299;&#38500;&#38459;&#22622;</span></code>&#65292; &#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code>
</p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20989;&#25968;&#22240;&#20026;&#25351;&#23450;&#30340;&#26102;&#38388;&#21040;&#36798;&#32780;&#36864;&#20986;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#65292;&#21542;&#21017; <code class="computeroutput"><span class="keyword">true</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.timed_wait_rel"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait_rel" title="template&lt;typename duration_type&gt; bool timed_wait(boost::unique_lock&lt;boost::mutex&gt;&amp; lock,duration_type const&amp; rel_time)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">duration_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#34987;&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;,
&#25110;&#32773;&#34987;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#20854;&#20182;&#32447;&#31243;&#38145;&#23450;,&#25110;&#32773;&#25152;&#26377;&#22312;&#31561;&#24453;&#35813;&#29366;&#24577;&#21464;&#37327;&#30340;&#32447;&#31243;&#20256;&#36882;&#30340;<code class="computeroutput"><span class="identifier">lock</span></code>&#23545;&#35937;&#25351;&#21521;&#30456;&#21516;&#30340;&#20114;&#26021;&#37327;&#12290;
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#21478;&#22806;&#22312;&#31561;&#24453;&#26102;&#38388;
&#27573;&#36229;&#36807;<code class="computeroutput"><span class="identifier">rel_time</span></code>
<code class="computeroutput"><span class="identifier">&#21518;&#32447;&#31243;&#20063;&#20250;&#35299;&#38500;&#38459;&#22622;</span></code>&#65292; &#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;
&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code>&nbsp;
</p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20989;&#25968;&#22240;&#20026;&#25351;&#23450;&#30340;&#26102;&#38388;&#27573;&#21040;&#36798;&#32780;&#36864;&#20986;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#65292;&#21542;&#21017; <code class="computeroutput"><span class="keyword">true</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
<div class="note">
<table summary="Note" border="0">
<tbody>
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">&#27880;&#24847;&#65306;</th>
</tr>
<tr>
<td align="left" valign="top">
<p>&#20351;&#29992;&#26102;&#38388;&#27573;&#21442;&#25968;&#30340;&#20989;&#25968;&#38590;&#20197;&#27491;&#30830;&#20351;&#29992;&#65292; &#36890;&#24120;&#24773;&#20917;&#19979;&#24102;&#26029;&#35328;&#30340;&#37325;&#36733;&#27604;&#36739;&#23481;&#26131;&#20351;&#29992;&#12290; </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable.timed_wait_predicate"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable.timed_wait_predicate" title="template&lt;typename predicate_type&gt; bool timed_wait(boost::unique_lock&lt;boost::mutex&gt;&amp; lock, boost::system_time const&amp; abs_time, predicate_type pred)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;&amp;</span>
<span class="identifier">lock</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> As-if </p>
<pre class="programlisting"><span class="keyword">while</span><span class="special">(!</span><span class="identifier">pred</span><span class="special">())</span><br><span class="special">{</span><br> <span class="keyword">if</span><span class="special">(!</span><span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock</span><span class="special">,</span><span class="identifier">abs_time</span><span class="special">))</span><br> <span class="special">{</span><br> <span class="keyword">return</span> <span class="identifier">pred</span><span class="special">();</span><br> <span class="special">}</span><br><span class="special">}</span><br><span class="keyword">return</span> <span class="keyword">true</span><span class="special">;</span>
</pre>
<p> </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any" title="Class condition_variable_any"> Class <code class="computeroutput"><span class="identifier">condition_variable_any</span></code></a>
</h4>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.constructor">
<code class="computeroutput"><span class="identifier">condition_variable_any</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.destructor">
<code class="computeroutput"><span class="special">~</span><span class="identifier">condition_variable_any</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.notify_one">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">notify_one</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.notify_all">
<code class="computeroutput"><span class="keyword">void</span>
<span class="identifier">notify_all</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.wait">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.wait_predicate">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span>
<span class="identifier">predicate_type</span> <span class="identifier">pred</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait_rel">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">duration_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">rel_time</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait_predicate">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a></span></dt>
</dl>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">condition_variable</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">namespace</span> <span class="identifier">boost</span><br><span class="special">{</span><br> <span class="keyword">class</span> <span class="identifier">condition_variable_any</span><br> <span class="special">{</span><br> <span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">condition_variable_any</span><span class="special">();</span><br> <span class="special">~</span><span class="identifier">condition_variable_any</span><span class="special">();</span><br><br> <span class="keyword">void</span> <span class="identifier">notify_one</span><span class="special">();</span><br> <span class="keyword">void</span> <span class="identifier">notify_all</span><span class="special">();</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">&gt;</span><br> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">duration_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">duration_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br><br> <span class="comment">// backwards compatibility<br></span><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&gt;&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">xtime</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">);</span><br><br> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">predicate_type</span><span class="special">&gt;</span><br> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">xtime</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span><span class="identifier">predicate_type</span> <span class="identifier">predicate</span><span class="special">);</span><br> <span class="special">};</span><br><span class="special">}</span>
</pre>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.constructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.constructor" title="condition_variable_any()"> <code class="computeroutput"><span class="identifier">condition_variable_any</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#21019;&#24314;&#19968;&#20010;<code class="computeroutput"><span class="identifier">condition_variable_any</span></code>&#23545;
&#35937;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;boost</span><span class="special">::</span><span class="identifier">thread_resource_error</span></code>&amp;
nbsp;&#24322;&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.destructor"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.destructor" title="~condition_variable_any()"> <code class="computeroutput"><span class="special">~</span><span class="identifier">condition_variable_any</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#25152;&#26377;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#30340;&#32447;&#31243;&#24471;&#21040;&#36890;&#30693;&#65288;&#36890;&#36807;&#35843;&#29992;&#20989;&#25968;<code class="computeroutput"><span class="identifier">notify_one</span></code> &#25110;<code class="computeroutput"><span class="identifier">notify_all&#65292;</span></code><code class="computeroutput"><span class="identifier"></span></code>
&#23613;&#31649;&#19981;&#26159;&#27599;&#20010;&#29420;&#31435;&#30340;&#20989;&#25968;&#35843;&#29992;<code class="computeroutput"><span class="identifier">wait</span></code>&#25110; <code class="computeroutput"><span class="identifier">timed_wait</span></code>
&nbsp;&#37117;&#36820;&#22238;)&#12290; </p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#38144;&#27585;&#36825;&#20010;&#23545;&#35937;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.notify_one"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.notify_one" title="void notify_one()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">notify_one</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524;&#26377;&#32447;&#31243;&#24403;&#21069;&#22240;&#20026;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#65288;<code class="computeroutput"><span class="identifier">wait</span></code> &#25110;<code class="computeroutput"><span class="identifier">timed_wait</span></code>&#65289;
&#38459;&#22622;&#65292;&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#20250;&#35299;&#38500;&#19968;&#20010;&#32447;&#31243;&#30340;&#38459;&#22622;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.notify_all"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.notify_all" title="void notify_all()"> <code class="computeroutput"><span class="keyword">void</span> <span class="identifier">notify_all</span><span class="special">()</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#22914;&#26524;&#26377;&#32447;&#31243;&#24403;&#21069;&#22240;&#20026;&#31561;&#24453;&#36825;&#20010;&#26465;&#20214;&#21464;&#37327;&#65288;<code class="computeroutput"><span class="identifier">wait</span></code> &#25110;<code class="computeroutput"><span class="identifier">timed_wait</span></code>&#65289;
&#38459;&#22622;&#65292;&#36825;&#20010;&#20989;&#25968;&#35843;&#29992;&#20250;&#35299;&#38500;&#25152;&#26377;&#36825;&#20123;&#32447;&#31243;&#30340;&#38459;&#22622;&#29366;&#24577;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p>&#26080;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.wait"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.wait" title="template&lt;typename lock_type&gt; void wait(lock_type&amp; lock)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;
&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code></p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290;<code class="computeroutput"><span class="identifier"></span></code>
</p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.wait_predicate"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.wait_predicate" title="template&lt;typename lock_type,typename predicate_type&gt; void wait(lock_type&amp; lock, predicate_type pred)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span>
<span class="identifier">predicate_type</span> <span class="identifier">pred</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> As-if </p>
<pre class="programlisting"><span class="keyword">while</span><span class="special">(!</span><span class="identifier">pred</span><span class="special">())</span><br><span class="special">{</span><br> <span class="identifier">wait</span><span class="special">(</span><span class="identifier">lock</span><span class="special">);</span><br><span class="special">}</span>
</pre>
<p> </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.timed_wait"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait" title="template&lt;typename lock_type&gt; bool timed_wait(lock_type&amp; lock,boost::system_time const&amp; abs_time)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">abs_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#21478;&#22806;&#22312;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">get_system_time</span><span class="special">()</span></code>&#24471;&#21040;&#30340;&#26102;&#38388;&#36229;&#36807;<code class="computeroutput"><span class="identifier">abs_time
&#21518;&#32447;&#31243;&#20063;&#20250;&#35299;&#38500;&#38459;&#22622;</span></code>&#65292; &#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code></p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20989;&#25968;&#22240;&#20026;&#25351;&#23450;&#30340;&#26102;&#38388;&#21040;&#36798;&#32780;&#36864;&#20986;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#65292;&#21542;&#21017; <code class="computeroutput"><span class="keyword">true</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290;<code class="computeroutput"><span class="identifier"></span></code>
</p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.timed_wait_rel"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait_rel" title="template&lt;typename lock_type,typename duration_type&gt; bool timed_wait(lock_type&amp; lock,duration_type const&amp; rel_time)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">duration_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span><span class="identifier">duration_type</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">rel_time</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#33258;&#21160;&#35843;&#29992; <code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">unlock</span><span class="special">()</span></code>&#24182;&#19988;&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#12290; &#32447;&#31243;&#22312;&#20989;&#25968;<code class="computeroutput"><span class="special"></span><span class="identifier">notify_one</span><span class="special">()</span></code>&#25110;<code class="computeroutput"><span class="keyword"></span><span class="special"></span><span class="identifier">notify_all</span><span class="special"></span></code>&#35843;&#29992;&#36890;&#30693;&#21518;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;&#65292;&#21478;&#22806;&#22312;&#31561;&#24453;&#26102;&#38388;
&#27573;&#36229;&#36807;<code class="computeroutput"><span class="identifier">rel_time</span></code>
<code class="computeroutput"><span class="identifier">&#21518;&#32447;&#31243;&#20063;&#20250;&#35299;&#38500;&#38459;&#22622;</span></code>&#65292; &#28982;&#21518;<code class="computeroutput"><span class="identifier">&#32447;
&#31243;&#22312;</span></code> <code class="computeroutput"><span class="identifier">wait</span></code><code class="computeroutput"><span class="identifier">&#20989;
&#25968;&#36864;&#20986;&#21069;&#35843;&#29992;lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()</span></code>
&#26469;&#21152;&#38145;&#12290;&#22914;&#26524;&#36825;&#20010;&#20989;&#25968;&#22240;&#20026;&#24322;&#24120;&#36864;&#20986;&#65292;&#36864;&#20986;&#21069;&#20063;&#20250;&#35843;&#29992;<code class="computeroutput"><span class="identifier">lock</span><span class="special">.</span><span class="identifier">lock</span><span class="special">()<span style="font-family: sans;">&#12290;</span></span></code>&nbsp;
</p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> &#22914;&#26524;&#20989;&#25968;&#22240;&#20026;&#25351;&#23450;&#30340;&#26102;&#38388;&#27573;&#21040;&#36798;&#32780;&#36864;&#20986;&#65292;&#36820;&#22238;<code class="computeroutput"><span class="keyword">false</span></code>&#65292;&#21542;&#21017; <code class="computeroutput"><span class="keyword">true</span></code>&#12290;
</p>
</dd>
<dt><span class="term">&#21518;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#24403;&#21069;&#32447;&#31243;&#38145;&#23450;lock</span></code>&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#25243;&#20986;&#24322;&#24120;boost</span><span class="special">::</span><span class="identifier">thread_resource_error<span style="font-family: sans;">&#12290;&#22914;&#26524;&#23545;&#32447;&#31243;&#25191;&#34892;&#20307;&#20851;&#32852;&#30340;</span></span></code><a class="link" href="../thread/thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>&#23545;
&#35937;&#35843;&#29992;&#20989;&#25968;<a class="link" href="../thread/thread_management.html#thread.thread_management.thread.interrupt" title="Member function interrupt()"><code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()&#65292;</span></code></a> &#25243;&#20986;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>&#24322;
&#24120;&#12290; </p>
</dd>
</dl>
</div>
<div class="note">
<table summary="Note" border="0">
<tbody>
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">&#27880;&#24847;&#65306;</th>
</tr>
<tr>
<td align="left" valign="top">
<p>&#20351;&#29992;&#26102;&#38388;&#27573;&#21442;&#25968;&#30340;&#20989;&#25968;&#38590;&#20197;&#27491;&#30830;&#20351;&#29992;&#65292; &#36890;&#24120;&#24773;&#20917;&#19979;&#24102;&#26029;&#35328;&#30340;&#37325;&#36733;&#27604;&#36739;&#23481;&#26131;&#20351;&#29992;&#12290; </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="thread.synchronization.condvar_ref.condition_variable_any.timed_wait_predicate"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.timed_wait_predicate" title="template&lt;typename lock_type,typename predicate_type&gt; bool timed_wait(lock_type&amp; lock, boost::system_time const&amp; abs_time, predicate_type pred)">
<code class="computeroutput"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span>
<span class="identifier">lock_type</span><span class="special">,</span><span class="keyword">typename</span>
<span class="identifier">predicate_type</span><span class="special">&gt;</span> <span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock_type</span><span class="special">&amp;</span> <span class="identifier">lock</span><span class="special">,</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span>
<span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">,</span> <span class="identifier">predicate_type</span>
<span class="identifier">pred</span><span class="special">)</span></code></a>
</h5>
</div>
</div>
</div>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> As-if </p>
<pre class="programlisting"><span class="keyword">while</span><span class="special">(!</span><span class="identifier">pred</span><span class="special">())</span><br><span class="special">{</span><br> <span class="keyword">if</span><span class="special">(!</span><span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">lock</span><span class="special">,</span><span class="identifier">abs_time</span><span class="special">))</span><br> <span class="special">{</span><br> <span class="keyword">return</span> <span class="identifier">pred</span><span class="special">();</span><br> <span class="special">}</span><br><span class="special">}</span><br><span class="keyword">return</span> <span class="keyword">true</span><span class="special">;</span>
</pre>
<p> </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.condvar_ref.condition"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.condvar_ref.condition" title="Typedef condition"> Typedef <code class="computeroutput"><span class="identifier">condition</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">condition</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">typedef</span> <span class="identifier">condition_variable_any</span> <span class="identifier">condition</span><span class="special">;</span>
</pre>
<p>&nbsp; &nbsp; &nbsp; <code class="computeroutput"><span class="identifier">condition</span></code>&amp;
nbsp;&#31867;&#22411;&#25552;&#20379;&#23545;&#20197;&#21069;&#29256;&#26412;&#30340;&#20860;&#23481;&#12290; </p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.once"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.once" title="One-time Initialization"> One-time Initialization</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.once.once_flag">
Typedef <code class="computeroutput"><span class="identifier">once_flag</span></code></a></span></dt>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.once.call_once">
Non-member function <code class="computeroutput"><span class="identifier">call_once</span></code></a></span></dt>
</dl>
</div>
<p> <code class="computeroutput"><span class="identifier">&nbsp; &nbsp;boost</span><span class="special">::</span><span class="identifier">call_once</span></code>&amp;
nbsp;&#25552;&#20379;&#19968;&#20010;&#26426;&#21046;&#65292;&#30830;&#20445;&#21021;&#22987;&#21270;&#20989;&#25968;&#21482;&#25191;&#34892;&#19968;&#27425;&#65292;&#24182;&#36991;&#20813;&#25968;&#25454;&#31454;&#24577;&#25110;&#27515;&#38145;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.once.once_flag"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.once.once_flag" title="Typedef once_flag"> Typedef <code class="computeroutput"><span class="identifier">once_flag</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">once</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">typedef</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">type</span> <span class="identifier">once_flag</span><span class="special">;</span><br><span class="preprocessor">#define</span> <span class="identifier">BOOST_ONCE_INIT</span> <span class="identifier">platform</span><span class="special">-</span><span class="identifier">specific</span><span class="special">-</span><span class="identifier">initializer</span>
</pre>
<p>&nbsp; &nbsp; &nbsp;&nbsp;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">once_flag</span></code>&#23545;
&#35937;&#30001;<code class="computeroutput"><span class="identifier">BOOST_ONCE_INIT</span></code>&#21021;
&#22987;&#21270;: </p>
<pre class="programlisting"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">once_flag</span> <span class="identifier">f</span><span class="special">=</span><span class="identifier">BOOST_ONCE_INIT</span><span class="special">;</span>
</pre>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.once.call_once"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.once.call_once" title="Non-member function call_once"> &#33258;&#30001;&#20989;&#25968; <code class="computeroutput"><span class="identifier">call_once</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">once</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Callable</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">call_once</span><span class="special">(</span><span class="identifier">once_flag</span><span class="special">&amp;</span> <span class="identifier">flag</span><span class="special">,</span><span class="identifier">Callable</span> <span class="identifier">func</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Requires:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">Callable</span></code> &#31867;&#22411;&#35201;&#27714; <code class="computeroutput"><span class="identifier">CopyConstructible</span></code>&#12290;
&#25335;&#36125;<code class="computeroutput"><span class="identifier">func</span></code>
&#19981;&#33021;&#26377;&#21103;&#25928;&#26524;&#65288;side effect&#65289;&#65292;&#24182;&#19988;&#25335;&#36125;&#21644;&#21407;&#22987;&#23545;&#35937;&#26377;&#30456;&#21516;&#30340;&#35843;&#29992;&#25928;&#26524;&#12290;<br>
</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#23545;&#21516;&#19968;&#20010; <code class="computeroutput"><span class="identifier">once_flag</span></code> &#23545;&#35937;&#35843;&#29992;<code class="computeroutput"><span class="identifier">call_once</span></code>&amp;
nbsp;&#34987;&#24207;&#21015;&#21270;&#20102;&#12290;&#22914;&#26524;&#22312;&#27492;&#20043;&#21069;&#27809;&#26377;&#26377;&#25928;&#30340;<code class="computeroutput"><span class="identifier">call_once</span></code>&#35843;&#29992;&#65292;<code class="computeroutput"><span class="identifier">func</span><span class="special">()</span></code>&#23545;&#35937;&#20250;&#34987;&#35843;&#29992;&#65292;&#22914;&#26524;<code class="computeroutput"><span class="identifier">func</span><span class="special">()</span></code>&#25104;&#21151;&#65292;&#37027;&#20040;<code class="computeroutput"><span class="identifier">call_once
&#35843;&#29992;&#34987;&#35270;&#20026;&#26377;&#25928;&#30340;</span></code>&#65292;&#22914;&#26524;<code class="computeroutput"><span class="identifier">func</span><span class="special">()</span></code>
t&#25243;&#20986;&#24322;&#24120;&#65292;&#35813;&#24322;&#24120;&#34987;&#20256;&#36882;&#21040;&#35843;&#29992;&#32773;&#65292;<code class="computeroutput"><span class="identifier">call_once</span></code><code class="computeroutput"><span class="identifier">&#35843;
&#29992;&#34987;&#35270;&#20026;&#26080;&#25928;&#30340;</span></code>&#65307;&#22914;&#26524;&#23545;&#21516;&#19968;&#20010;<code class="computeroutput"><span class="identifier">once_flag</span></code>&nbsp;
&#23545;&#35937;&#26377;&#36807;&#26377;&#25928;&#30340;<code class="computeroutput"><span class="identifier">call_once</span></code>&nbsp;
&#35843;&#29992;&#65292;<code class="computeroutput"><span class="identifier">call_once</span></code>&#21482;
&#26159;&#31616;&#21333;&#36820;&#22238;&#65292;&#24182;&#19981;&#35843;&#29992;<code class="computeroutput"><span class="identifier">func&#12290;</span></code> </p>
</dd>
<dt><span class="term">&#21516;&#27493;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#23545;once</span></code><code class="computeroutput"><span class="identifier">_flag</span></code>&#23545;
&#35937;&#26377;&#25928;&#35843;&#29992;<code class="computeroutput"><span class="identifier">call_once</span></code>&#21518;&#65292;&#21518;&#32493;&#23545;&#35813;<code class="computeroutput"><span class="identifier">once_flag</span></code>
&#30340;<code class="computeroutput"><span class="identifier">call_once</span></code>&#35843;
&#29992;&#20250;&#34987;&#21516;&#27493;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#22914;&#26524;&#21021;&#22987;&#21270;&#25928;&#26524;&#19981;&#33021;&#36798;&#21040;&#65292;&#25243;&#20986;<code class="computeroutput"><span class="identifier">thread_resource_error</span></code>&#65292;
&#25110;&#32773;<code class="computeroutput"><span class="identifier">func</span></code>
&#25243;&#20986;&#30340;&#24322;&#24120;&#12290; </p>
</dd>
</dl>
</div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">call_once</span><span class="special">(</span><span class="keyword">void</span> <span class="special">(*</span><span class="identifier">func</span><span class="special">)(),</span><span class="identifier">once_flag</span><span class="special">&amp;</span> <span class="identifier">flag</span><span class="special">);</span>
</pre>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&#31532;&#20108;&#20010;&#37325;&#36733;&#25552;&#20379;&#21521;&#21069;&#30340;&#20860;&#23481;&#25903;&#25345;&#12290;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&#20989;&#25968;<code class="computeroutput"><span class="identifier">call_once</span><span class="special">(</span><span class="identifier">func</span><span class="special">,</span><span class="identifier">flag</span><span class="special">)</span></code>&#30340;&#25928;&#26524;&#21644;<code class="computeroutput"><span class="identifier">call_once</span><span class="special">(</span><span class="identifier">flag</span><span class="special">,</span><span class="identifier">func</span><span class="special">)</span></code>&#19968;&#26679;&#12290; </p>
</div>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="thread.synchronization.barriers"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.barriers" title="Barriers"> Barriers</a>
</h3>
</div>
</div>
</div>
<div class="toc">
<dl>
<dt><span class="section"><a href="../thread/synchronization.html#thread.synchronization.barriers.barrier">
Class <code class="computeroutput"><span class="identifier">barrier</span></code></a></span></dt>
</dl>
</div>
<p>&nbsp; &nbsp; &nbsp; &#26159;&#19968;&#20010;&#31616;&#21333;&#30340;&#27010;&#24565;&#65292;&#20063;&#34987;&#31216;&#20026; <span class="emphasis"><em>rendezvous</em></span>,
&#26159;&#22810;&#20010;&#32447;&#31243;&#38388;&#30340;&#21516;&#27493;&#28857;&#12290;barrier&#34987;&#37197;&#32622;&#20026;&#19968;&#23450;&#25968;&#37327;&#30340;&#32447;&#31243;&#20351;&#29992;(<code class="computeroutput"><span class="identifier">n</span></code>)&#65292;&#24403;&#32447;&#31243;&#21040;&#36798;barrier
&#26102;&#65292;&#20182;&#20204;&#24517;&#39035;&#31561;&#24453;&#65292;&#30452;&#21040;&#25152;&#26377;&#32447;&#31243;&#37117;&#21040;&#36798;&#36825;&#20010;barrier&#12290;&#24403;&#26368;&#21518;&#19968;&#20010;&#32447;&#31243;&#21040;&#36798;&#36825;&#20010;barrier&#65292;&#25152;&#26377;&#30340;&#32447;&#31243;&#25165;&#33021;&#32487;&#32493;&#25191;&#34892;&#65292;&#24182;&#19988;&#36825;&#20010;barrier&#23545;&#35937;
&#34987;&#22797;&#20301;&#12290; </p>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="thread.synchronization.barriers.barrier"></a><a class="link" href="../thread/synchronization.html#thread.synchronization.barriers.barrier" title="Class barrier"> Class <code class="computeroutput"><span class="identifier">barrier</span></code></a>
</h4>
</div>
</div>
</div>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">thread</span><span class="special">/</span><span class="identifier">barrier</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span><br><br><span class="keyword">class</span> <span class="identifier">barrier</span><span class="identifier"></span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br> <span class="identifier">barrier</span><span class="special">(</span><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="identifier">count</span><span class="special">);</span><br> <span class="special">~</span><span class="identifier">barrier</span><span class="special">();</span><br><br> <span class="keyword">bool</span> <span class="identifier">wait</span><span class="special">();</span><br><span class="special">};</span>
</pre>
<p> &nbsp; &nbsp; &nbsp;<a class="link" href="../thread/synchronization.html#thread.synchronization.barriers.barrier" title="Class barrier"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">barrier</span></code></a>&amp;
nbsp;&#23545;&#35937;&#19981;&#25903;&#25345;&#25335;&#36125;&#21644;&#36716;&#31227;&#12290; </p>
<a name="thread.synchronization.barriers.barrier.constructor"></a>
<h6><a name="id3565754"></a> <a class="link" href="../thread/synchronization.html#thread.synchronization.barriers.barrier.constructor">Constructor</a>
</h6>
<pre class="programlisting"><span class="identifier">barrier</span><span class="special">(</span><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="identifier">count</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p><span style="font-family: monospace;">&#26500;&#36896;&#19968;&#20010;&#25903;&#25345; </span><code class="computeroutput"><span class="identifier">count</span></code>
&#20010;&#32447;&#31243;&#30340;barrier &#32447;&#31243;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#65292;&#25243;&#20986;boost</span><span class="special">::</span><span class="identifier">thread_resource_error</span></code>
&#24322;&#24120;&#12290; </p>
</dd>
</dl>
</div>
<a name="thread.synchronization.barriers.barrier.destructor"></a>
<h6><a name="id3565869"></a> <a class="link" href="../thread/synchronization.html#thread.synchronization.barriers.barrier.destructor">Destructor</a>
</h6>
<pre class="programlisting"><span class="special">~</span><span class="identifier">barrier</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#21069;&#32622;&#26465;&#20214;:</span></dt>
<dd>
<p>&#27809;&#26377;&#32447;&#31243;&#22312;&#31561;&#24453;&#36825;&#20010;&#23545;&#35937;&#12290;</p>
</dd>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p> &#38144;&#27585;&#36825;&#20010;&#23545;&#35937;&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> &#26080;&#12290; </p>
</dd>
</dl>
</div>
<a name="thread.synchronization.barriers.barrier.member_function__code__phrase_role__identifier__wait__phrase___code_"></a>
<h6><a name="id3565983"></a> <a class="link" href="../thread/synchronization.html#thread.synchronization.barriers.barrier.member_function__code__phrase_role__identifier__wait__phrase___code_">Member
function <code class="computeroutput"><span class="identifier">wait</span></code></a> </h6>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">wait</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">&#25928;&#26524;:</span></dt>
<dd>
<p>&#38459;&#22622;&#24403;&#21069;&#32447;&#31243;&#30452;&#21040; <code class="computeroutput"><span class="identifier">count</span></code> &#20010;&#32447;&#31243;&#23545;&#36825;&#20010;&#23545;&#35937;&#35843;&#29992;<code class="computeroutput"><span class="identifier">wait<span style="font-family: sans;">,</span></span></code>&#24403;
&#31532;<code class="computeroutput"><span class="identifier">count</span></code>&#20010;
&#32447;&#31243;&#35843;&#29992; <code class="computeroutput"><span class="identifier">wait</span></code>&#65292;&#25152;&#26377;&#38459;&#22622;&#30340;&#32447;&#31243;&#35299;&#38500;&#38459;
&#22622;&#65292;barrier&#23545;&#35937;&#34987;&#22797;&#20301;&#12290; </p>
</dd>
<dt><span class="term">&#36820;&#22238;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="keyword">true</span></code> for exactly
one thread from each batch of waiting threads, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise&#12290; </p>
</dd>
<dt><span class="term">&#25243;&#20986;:</span></dt>
<dd>
<p> <code class="computeroutput"><span class="identifier">&#22914;&#26524;&#20986;&#38169;&#65292;&#25243;&#20986;boost</span><span class="special">::</span><span class="identifier">thread_resource_error</span></code>
&#24322;&#24120;&#12290; </p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" title="Futures">
<div class="titlepage"><div><div><h3 class="title">
<a name="thread.synchronization.futures"></a><a class="link" href="synchronization.html#thread.synchronization.futures" title="Futures"> Futures</a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.overview"> Overview</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.creating"> Creating
asynchronous values</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.lazy_futures"> Wait
Callbacks and Lazy Futures</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference"> Futures
Reference</a></span></dt>
</dl></div>
<div class="section" title="Overview">
<div class="titlepage"><div><div><h4 class="title">
<a name="thread.synchronization.futures.overview"></a><a class="link" href="synchronization.html#thread.synchronization.futures.overview" title="Overview"> Overview</a>
</h4></div></div></div>
<p>
The futures library provides a means of handling synchronous future values,
whether those values are generated by another thread, or on a single thread
in response to external stimuli, or on-demand.
</p>
<p>
This is done through the provision of four class templates: <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a> which are used to
retrieve the asynchronous results, and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> which are used to
generate the asynchronous results.
</p>
<p>
An instance of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> holds the one and
only reference to a result. Ownership can be transferred between instances
using the move constructor or move-assignment operator, but at most one
instance holds a reference to a given asynchronous result. When the result
is ready, it is returned from <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get" title="Member function get()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">get</span><span class="special">()</span></code></a>
by rvalue-reference to allow the result to be moved or copied as appropriate
for the type.
</p>
<p>
On the other hand, many instances of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a> may reference the
same result. Instances can be freely copied and assigned, and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get" title="Member function get()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">get</span><span class="special">()</span></code></a>
returns a <code class="computeroutput"><span class="keyword">const</span></code> reference
so that multiple calls to <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get" title="Member function get()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">get</span><span class="special">()</span></code></a>
are safe. You can move an instance of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> into an instance
of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a>, thus transferring
ownership of the associated asynchronous result, but not vice-versa.
</p>
<p>
You can wait for futures either individually or with one of the <a class="link" href="synchronization.html#thread.synchronization.futures.reference.wait_for_any" title="Non-member function wait_for_any()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">wait_for_any</span><span class="special">()</span></code></a>
and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.wait_for_all" title="Non-member function wait_for_all()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">wait_for_all</span><span class="special">()</span></code></a>
functions.
</p>
</div>
<div class="section" title="Creating asynchronous values">
<div class="titlepage"><div><div><h4 class="title">
<a name="thread.synchronization.futures.creating"></a><a class="link" href="synchronization.html#thread.synchronization.futures.creating" title="Creating asynchronous values"> Creating
asynchronous values</a>
</h4></div></div></div>
<p>
You can set the value in a future with either a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> or a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>. A <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> is a callable object
that wraps a function or callable object. When the packaged task is invoked,
it invokes the contained function in turn, and populates a future with
the return value. This is an answer to the perennial question: "how
do I return a value from a thread?": package the function you wish
to run as a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> and pass the packaged
task to the thread constructor. The future retrieved from the packaged
task can then be used to obtain the return value. If the function throws
an exception, that is stored in the future in place of the return value.
</p>
<pre class="programlisting"><span class="keyword">int</span> <span class="identifier">calculate_the_answer_to_life_the_universe_and_everything</span><span class="special">()</span><br><span class="special">{</span><br><span class="keyword">return</span> <span class="number">42</span><span class="special">;</span><br><span class="special">}</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">pt</span><span class="special">(</span><span class="identifier">calculate_the_answer_to_life_the_universe_and_everything</span><span class="special">);</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">fi</span><span class="special">=</span><span class="identifier">pt</span><span class="special">.</span><span class="identifier">get_future</span><span class="special">();</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span> <span class="identifier">task</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">move</span><span class="special">(</span><span class="identifier">pt</span><span class="special">));</span> <span class="comment">// launch task on a thread<br></span><br><span class="identifier">fi</span><span class="special">.</span><span class="identifier">wait</span><span class="special">();</span> <span class="comment">// wait for it to finish<br></span> <span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">has_value</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(!</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">has_exception</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">get_state</span><span class="special">()==</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span><span class="special">);</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">get</span><span class="special">()==</span><span class="number">42</span><span class="special">);</span>
</pre>
<p>
A <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> is a bit more low level:
it just provides explicit functions to store a value or an exception in
the associated future. A promise can therefore be used where the value
may come from more than one possible source, or where a single operation
may produce multiple values.
</p>
<pre class="programlisting"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">pi</span><span class="special">;</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">fi</span><span class="special">;</span><br><span class="identifier">fi</span><span class="special">=</span><span class="identifier">pi</span><span class="special">.</span><span class="identifier">get_future</span><span class="special">();</span><br><span class="identifier">pi</span><span class="special">.</span><span class="identifier">set_value</span><span class="special">(</span><span class="number">42</span><span class="special">);</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">has_value</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(!</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">has_exception</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">get_state</span><span class="special">()==</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span><span class="special">);</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">fi</span><span class="special">.</span><span class="identifier">get</span><span class="special">()==</span><span class="number">42</span><span class="special">);</span>
</pre>
</div>
<div class="section" title="Wait Callbacks and Lazy Futures">
<div class="titlepage"><div><div><h4 class="title">
<a name="thread.synchronization.futures.lazy_futures"></a><a class="link" href="synchronization.html#thread.synchronization.futures.lazy_futures" title="Wait Callbacks and Lazy Futures"> Wait
Callbacks and Lazy Futures</a>
</h4></div></div></div>
<p>
Both <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> support <span class="emphasis"><em>wait
callbacks</em></span> that are invoked when a thread blocks in a call to
<code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code>
or <code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code>
on a future that is waiting for the result from the <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>, in the thread that
is doing the waiting. These can be set using the <code class="computeroutput"><span class="identifier">set_wait_callback</span><span class="special">()</span></code> member function on the <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> in question.
</p>
<p>
This allows <span class="emphasis"><em>lazy futures</em></span> where the result is not actually
computed until it is needed by some thread. In the example below, the call
to <code class="computeroutput"><span class="identifier">f</span><span class="special">.</span><span class="identifier">get</span><span class="special">()</span></code>
invokes the callback <code class="computeroutput"><span class="identifier">invoke_lazy_task</span></code>,
which runs the task to set the value. If you remove the call to <code class="computeroutput"><span class="identifier">f</span><span class="special">.</span><span class="identifier">get</span><span class="special">()</span></code>, the task is not ever run.
</p>
<pre class="programlisting"><span class="keyword">int</span> <span class="identifier">calculate_the_answer_to_life_the_universe_and_everything</span><span class="special">()</span><br><span class="special">{</span><br><span class="keyword">return</span> <span class="number">42</span><span class="special">;</span><br><span class="special">}</span><br><span class="keyword">void</span> <span class="identifier">invoke_lazy_task</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;&amp;</span> <span class="identifier">task</span><span class="special">)</span><br><span class="special">{</span><br><span class="keyword">try</span><br><span class="special">{</span><br><span class="identifier">task</span><span class="special">();</span><br><span class="special">}</span><br><span class="keyword">catch</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task_already_started</span><span class="special">&amp;)</span><br><span class="special">{}</span><br><span class="special">}</span><br><span class="keyword">int</span> <span class="identifier">main</span><span class="special">()</span><br><span class="special">{</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">task</span><span class="special">(</span><span class="identifier">calculate_the_answer_to_life_the_universe_and_everything</span><span class="special">);</span><br><span class="identifier">task</span><span class="special">.</span><span class="identifier">set_wait_callback</span><span class="special">(</span><span class="identifier">invoke_lazy_task</span><span class="special">);</span><br><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">f</span><span class="special">(</span><span class="identifier">task</span><span class="special">.</span><span class="identifier">get_future</span><span class="special">());</span><br><span class="identifier">assert</span><span class="special">(</span><span class="identifier">f</span><span class="special">.</span><span class="identifier">get</span><span class="special">()==</span><span class="number">42</span><span class="special">);</span><br><span class="special">}</span>
</pre>
</div>
<div class="section" title="Futures Reference">
<div class="titlepage"><div><div><h4 class="title">
<a name="thread.synchronization.futures.reference"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference" title="Futures Reference"> Futures
Reference</a>
</h4></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.future_state">
<code class="computeroutput"><span class="identifier">state</span></code> enum</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.unique_future">
<code class="computeroutput"><span class="identifier">unique_future</span></code> class template</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.shared_future">
<code class="computeroutput"><span class="identifier">shared_future</span></code> class template</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.promise">
<code class="computeroutput"><span class="identifier">promise</span></code> class template</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.packaged_task">
<code class="computeroutput"><span class="identifier">packaged_task</span></code> class template</a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.wait_for_any">
Non-member function <code class="computeroutput"><span class="identifier">wait_for_any</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="synchronization.html#thread.synchronization.futures.reference.wait_for_all">
Non-member function <code class="computeroutput"><span class="identifier">wait_for_all</span><span class="special">()</span></code></a></span></dt>
</dl></div>
<div class="section" title="state enum">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.future_state"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum">
<code class="computeroutput"><span class="identifier">state</span></code> enum</a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">future_state</span><br><span class="special">{</span><br><span class="keyword">enum</span> <span class="identifier">state</span> <span class="special">{</span><span class="identifier">uninitialized</span><span class="special">,</span> <span class="identifier">waiting</span><span class="special">,</span> <span class="identifier">ready</span><span class="special">};</span><br><span class="special">}</span>
</pre>
</div>
<div class="section" title="unique_future class template">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.unique_future"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template">
<code class="computeroutput"><span class="identifier">unique_future</span></code> class template</a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">R</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">unique_future</span><br><span class="special">{</span><br><span class="identifier">unique_future</span><span class="special">(</span><span class="identifier">unique_future</span> <span class="special">&amp;</span> <span class="identifier">rhs</span><span class="special">);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="identifier">unique_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">unique_future</span><span class="special">&amp;</span> <span class="identifier">rhs</span><span class="special">);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="keyword">public</span><span class="special">:</span><br><span class="keyword">typedef</span> <span class="identifier">future_state</span><span class="special">::</span><span class="identifier">state</span> <span class="identifier">state</span><span class="special">;</span><br><span class="identifier">unique_future</span><span class="special">();</span><br><span class="special">~</span><span class="identifier">unique_future</span><span class="special">();</span><br><span class="comment">// move support<br></span> <span class="identifier">unique_future</span><span class="special">(</span><span class="identifier">unique_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">unique_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">unique_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">unique_future</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="comment">// retrieving the value<br></span> <span class="identifier">R</span><span class="special">&amp;&amp;</span> <span class="identifier">get</span><span class="special">();</span> <span class="comment">// functions to check state<br></span> <span class="identifier">state</span> <span class="identifier">get_state</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">is_ready</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="keyword">bool</span> <span class="identifier">has_exception</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="keyword">bool</span> <span class="identifier">has_value</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="comment">// waiting for the result to be ready<br></span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Duration</span><span class="special">&gt;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">Duration</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait_until</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span><br><span class="special">};</span>
</pre>
<div class="section" title="Default Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.default_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.default_constructor" title="Default Constructor">
Default Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">unique_future</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs an uninitialized future.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span></code></a> returns <code class="computeroutput"><span class="keyword">false</span></code>. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Destructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.destructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.destructor" title="Destructor">
Destructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="special">~</span><span class="identifier">unique_future</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Destroys <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.move_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.move_constructor" title="Move Constructor">
Move Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">unique_future</span><span class="special">(</span><span class="identifier">unique_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs a new future, and transfers ownership of the asynchronous
result associated with <code class="computeroutput"><span class="identifier">other</span></code>
to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns the value of <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code> prior to the call. <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a>. If <code class="computeroutput"><span class="identifier">other</span></code> was associated with an
asynchronous result, that result is now associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
<code class="computeroutput"><span class="identifier">other</span></code> is not associated
with any asynchronous result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Assignment Operator">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.move_assignment"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.move_assignment" title="Move Assignment Operator">
Move Assignment Operator</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">unique_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">unique_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Transfers ownership of the asynchronous result associated with
<code class="computeroutput"><span class="identifier">other</span></code> to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns the value of <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code> prior to the call. <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a>. If <code class="computeroutput"><span class="identifier">other</span></code> was associated with an
asynchronous result, that result is now associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
<code class="computeroutput"><span class="identifier">other</span></code> is not associated
with any asynchronous result. If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> was associated with an asynchronous
result prior to the call, that result no longer has an associated
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> instance.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function swap()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.swap"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.swap" title="Member function swap()">
Member function <code class="computeroutput"><span class="identifier">swap</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">unique_future</span> <span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Swaps ownership of the asynchronous results associated with <code class="computeroutput"><span class="identifier">other</span></code> and <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns the value of <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code> prior to the call. <code class="computeroutput"><span class="identifier">other</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code>
returns the value of <code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code> prior to the call. If <code class="computeroutput"><span class="identifier">other</span></code> was associated with an
asynchronous result, that result is now associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
otherwise <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
has no associated result. If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> was associated with an asynchronous
result, that result is now associated with <code class="computeroutput"><span class="identifier">other</span></code>,
otherwise <code class="computeroutput"><span class="identifier">other</span></code>
has no associated result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function get()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.get"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get" title="Member function get()">
Member function <code class="computeroutput"><span class="identifier">get</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">R</span><span class="special">&amp;&amp;</span> <span class="identifier">get</span><span class="special">();</span><br><span class="identifier">R</span><span class="special">&amp;</span> <span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&amp;&gt;::</span><span class="identifier">get</span><span class="special">();</span><br><span class="keyword">void</span> <span class="identifier">unique_future</span><span class="special">&lt;</span><span class="keyword">void</span><span class="special">&gt;::</span><span class="identifier">get</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready as-if by a call to <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.wait" title="Member function wait()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">wait</span><span class="special">()</span></code></a>,
and retrieves the result (whether that is a value or an exception).
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
If the result type <code class="computeroutput"><span class="identifier">R</span></code>
is a reference, returns the stored reference. If <code class="computeroutput"><span class="identifier">R</span></code> is <code class="computeroutput"><span class="keyword">void</span></code>,
there is no return value. Otherwise, returns an rvalue-reference
to the value stored in the asynchronous result.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code>. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
stored in the asynchronous result in place of a value.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">get</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.wait"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.wait" title="Member function wait()">
Member function <code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">wait</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready. If the result is not ready on entry, and the result has
a <span class="emphasis"><em>wait callback</em></span> set, that callback is invoked
prior to waiting.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code>. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function timed_wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.timed_wait_duration"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.timed_wait_duration" title="Member function timed_wait()">
Member function <code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Duration</span><span class="special">&gt;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">Duration</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">wait_duration</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready, or the time specified by <code class="computeroutput"><span class="identifier">wait_duration</span></code>
has elapsed. If the result is not ready on entry, and the result
has a <span class="emphasis"><em>wait callback</em></span> set, that callback is
invoked prior to waiting.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
before the specified time has elapsed, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
If this call returned <code class="computeroutput"><span class="keyword">true</span></code>,
then <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code> and
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>. <code class="computeroutput"><span class="identifier">Duration</span></code>
must be a type that meets the Boost.DateTime time duration requirements.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function timed_wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.timed_wait_absolute"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.timed_wait_absolute" title="Member function timed_wait()">
Member function <code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">wait_timeout</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready, or the time point specified by <code class="computeroutput"><span class="identifier">wait_timeout</span></code>
has passed. If the result is not ready on entry, and the result
has a <span class="emphasis"><em>wait callback</em></span> set, that callback is
invoked prior to waiting.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
before the specified time has passed, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
If this call returned <code class="computeroutput"><span class="keyword">true</span></code>,
then <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code> and
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function is_ready()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.is_ready"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.is_ready" title="Member function is_ready()">
Member function <code class="computeroutput"><span class="identifier">is_ready</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">is_ready</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
for retrieval, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function has_value()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.has_value"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.has_value" title="Member function has_value()">
Member function <code class="computeroutput"><span class="identifier">has_value</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">has_value</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set with a value rather than an exception.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, that result is ready
for retrieval, and the result is a stored value, <code class="computeroutput"><span class="keyword">false</span></code> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function has_exception()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.has_exception"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.has_exception" title="Member function has_exception()">
Member function <code class="computeroutput"><span class="identifier">has_exception</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">has_exception</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set with an exception rather than a value.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, that result is ready
for retrieval, and the result is a stored exception, <code class="computeroutput"><span class="keyword">false</span></code> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function get_state()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.unique_future.get_state"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.get_state" title="Member function get_state()">
Member function <code class="computeroutput"><span class="identifier">get_state</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">state</span> <span class="identifier">get_state</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Determine the state of the asynchronous result associated with
<code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
if any.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a> if the asynchronous
result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is ready for retrieval, <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">waiting</span></code></a> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
</div>
<div class="section" title="shared_future class template">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.shared_future"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template">
<code class="computeroutput"><span class="identifier">shared_future</span></code> class template</a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">R</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">shared_future</span><br><span class="special">{</span><br><span class="keyword">public</span><span class="special">:</span><br><span class="keyword">typedef</span> <span class="identifier">future_state</span><span class="special">::</span><span class="identifier">state</span> <span class="identifier">state</span><span class="special">;</span><br><span class="identifier">shared_future</span><span class="special">();</span><br><span class="special">~</span><span class="identifier">shared_future</span><span class="special">();</span><br><span class="comment">// copy support<br></span> <span class="identifier">shared_future</span><span class="special">(</span><span class="identifier">shared_future</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">shared_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">shared_future</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="comment">// move support<br></span> <span class="identifier">shared_future</span><span class="special">(</span><span class="identifier">shared_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">shared_future</span><span class="special">(</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">shared_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">shared_future</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">shared_future</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">shared_future</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="comment">// retrieving the value<br></span> <span class="identifier">R</span> <span class="identifier">get</span><span class="special">();</span><br><span class="comment">// functions to check state, and wait for ready<br></span> <span class="identifier">state</span> <span class="identifier">get_state</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">is_ready</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">has_exception</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">has_value</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span><br><span class="comment">// waiting for the result to be ready<br></span> <span class="keyword">void</span> <span class="identifier">wait</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Duration</span><span class="special">&gt;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">Duration</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">rel_time</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait_until</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">abs_time</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span> <span class="special">};</span>
</pre>
<div class="section" title="Default Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.default_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.default_constructor" title="Default Constructor">
Default Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">shared_future</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs an uninitialized future.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span></code></a> returns <code class="computeroutput"><span class="keyword">false</span></code>. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function get()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.get"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get" title="Member function get()">
Member function <code class="computeroutput"><span class="identifier">get</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">const</span> <span class="identifier">R</span><span class="special">&amp;</span> <span class="identifier">get</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready as-if by a call to <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.wait" title="Member function wait()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">wait</span><span class="special">()</span></code></a>,
and returns a <code class="computeroutput"><span class="keyword">const</span></code>
reference to the result.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
If the result type <code class="computeroutput"><span class="identifier">R</span></code>
is a reference, returns the stored reference. If <code class="computeroutput"><span class="identifier">R</span></code> is <code class="computeroutput"><span class="keyword">void</span></code>,
there is no return value. Otherwise, returns a <code class="computeroutput"><span class="keyword">const</span></code>
reference to the value stored in the asynchronous result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">get</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.wait"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.wait" title="Member function wait()">
Member function <code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">wait</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready. If the result is not ready on entry, and the result has
a <span class="emphasis"><em>wait callback</em></span> set, that callback is invoked
prior to waiting.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code>. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function timed_wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.timed_wait_duration"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.timed_wait_duration" title="Member function timed_wait()">
Member function <code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Duration</span><span class="special">&gt;</span><br><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">Duration</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">wait_duration</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready, or the time specified by <code class="computeroutput"><span class="identifier">wait_duration</span></code>
has elapsed. If the result is not ready on entry, and the result
has a <span class="emphasis"><em>wait callback</em></span> set, that callback is
invoked prior to waiting.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
before the specified time has elapsed, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
If this call returned <code class="computeroutput"><span class="keyword">true</span></code>,
then <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code> and
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>. <code class="computeroutput"><span class="identifier">Duration</span></code>
must be a type that meets the Boost.DateTime time duration requirements.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function timed_wait()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.timed_wait_absolute"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.timed_wait_absolute" title="Member function timed_wait()">
Member function <code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">timed_wait</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">wait_timeout</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, waits until the result
is ready, or the time point specified by <code class="computeroutput"><span class="identifier">wait_timeout</span></code>
has passed. If the result is not ready on entry, and the result
has a <span class="emphasis"><em>wait callback</em></span> set, that callback is
invoked prior to waiting.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
before the specified time has passed, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_uninitialized</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code>
if the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is not ready at the point of
the call, and the current thread is interrupted. Any exception
thrown by the <span class="emphasis"><em>wait callback</em></span> if such a callback
is called.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
If this call returned <code class="computeroutput"><span class="keyword">true</span></code>,
then <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.is_ready" title="Member function is_ready()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">is_ready</span><span class="special">()</span></code></a>
returns <code class="computeroutput"><span class="keyword">true</span></code> and
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get_state" title="Member function get_state()"><code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_state</span><span class="special">()</span></code></a>
returns <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a>.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">timed_wait</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function is_ready()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.is_ready"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.is_ready" title="Member function is_ready()">
Member function <code class="computeroutput"><span class="identifier">is_ready</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">is_ready</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, and that result is ready
for retrieval, <code class="computeroutput"><span class="keyword">false</span></code>
otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function has_value()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.has_value"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.has_value" title="Member function has_value()">
Member function <code class="computeroutput"><span class="identifier">has_value</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">has_value</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set with a value rather than an exception.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, that result is ready
for retrieval, and the result is a stored value, <code class="computeroutput"><span class="keyword">false</span></code> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function has_exception()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.has_exception"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.has_exception" title="Member function has_exception()">
Member function <code class="computeroutput"><span class="identifier">has_exception</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">bool</span> <span class="identifier">has_exception</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Checks to see if the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is set with an exception rather than a value.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<code class="computeroutput"><span class="keyword">true</span></code> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is associated with an asynchronous result, that result is ready
for retrieval, and the result is a stored exception, <code class="computeroutput"><span class="keyword">false</span></code> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member function get_state()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.shared_future.get_state"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.get_state" title="Member function get_state()">
Member function <code class="computeroutput"><span class="identifier">get_state</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">state</span> <span class="identifier">get_state</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Determine the state of the asynchronous result associated with
<code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
if any.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
<a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">uninitialized</span></code></a> if <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
is not associated with an asynchronous result. <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">ready</span></code></a> if the asynchronous
result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is ready for retrieval, <a class="link" href="synchronization.html#thread.synchronization.futures.reference.future_state" title="state enum"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_state</span><span class="special">::</span><span class="identifier">waiting</span></code></a> otherwise.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
</div>
<div class="section" title="promise class template">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.promise"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template">
<code class="computeroutput"><span class="identifier">promise</span></code> class template</a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">R</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">promise</span><br><span class="special">{</span><br><span class="identifier">promise</span><span class="special">(</span><span class="identifier">promise</span> <span class="special">&amp;</span> <span class="identifier">rhs</span><span class="special">);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="identifier">promise</span> <span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">promise</span> <span class="special">&amp;</span> <span class="identifier">rhs</span><span class="special">);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="keyword">public</span><span class="special">:</span><br><span class="comment">// template &lt;class Allocator&gt; explicit promise(Allocator a);<br></span><br><span class="identifier">promise</span><span class="special">();</span><br><span class="special">~</span><span class="identifier">promise</span><span class="special">();</span><br><span class="comment">// Move support<br></span> <span class="identifier">promise</span><span class="special">(</span><span class="identifier">promise</span> <span class="special">&amp;&amp;</span> <span class="identifier">rhs</span><span class="special">);</span><br><span class="identifier">promise</span> <span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">promise</span><span class="special">&amp;&amp;</span> <span class="identifier">rhs</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">promise</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="comment">// Result retrieval<br></span> <span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="identifier">get_future</span><span class="special">();</span><br><span class="comment">// Set the value<br></span> <span class="keyword">void</span> <span class="identifier">set_value</span><span class="special">(</span><span class="identifier">R</span><span class="special">&amp;</span> <span class="identifier">r</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">set_value</span><span class="special">(</span><span class="identifier">R</span><span class="special">&amp;&amp;</span> <span class="identifier">r</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">set_exception</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">exception_ptr</span> <span class="identifier">e</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">set_wait_callback</span><span class="special">(</span><span class="identifier">F</span> <span class="identifier">f</span><span class="special">);</span> <span class="special">};</span>
</pre>
<div class="section" title="Default Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.default_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.default_constructor" title="Default Constructor">
Default Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">promise</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs a new <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a> with no associated
result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.move_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.move_constructor" title="Move Constructor">
Move Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">promise</span><span class="special">(</span><span class="identifier">promise</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs a new <a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise" title="promise class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise</span></code></a>, and transfers
ownership of the result associated with <code class="computeroutput"><span class="identifier">other</span></code>
to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
leaving <code class="computeroutput"><span class="identifier">other</span></code> with
no associated result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Assignment Operator">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.move_assignment"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.move_assignment" title="Move Assignment Operator">
Move Assignment Operator</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">promise</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">promise</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Transfers ownership of the result associated with <code class="computeroutput"><span class="identifier">other</span></code> to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>, leaving <code class="computeroutput"><span class="identifier">other</span></code>
with no associated result. If there was already a result associated
with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
and that result was not <span class="emphasis"><em>ready</em></span>, sets any futures
associated with that result to <span class="emphasis"><em>ready</em></span> with
a <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">broken_promise</span></code> exception as the
result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Destructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.destructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.destructor" title="Destructor">
Destructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="special">~</span><span class="identifier">promise</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Destroys <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
If there was a result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>, and that result is not <span class="emphasis"><em>ready</em></span>,
sets any futures associated with that task to <span class="emphasis"><em>ready</em></span>
with a <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">broken_promise</span></code> exception as the
result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function get_future()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.get_future"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.get_future" title="Member Function get_future()">
Member Function <code class="computeroutput"><span class="identifier">get_future</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="identifier">get_future</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
was not associated with a result, allocate storage for a new asynchronous
result and associate it with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>. Returns a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> associated
with the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_already_retrieved</span></code> if the
future associated with the task has already been retrieved. <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code> if any memory necessary
could not be allocated.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function set_value()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.set_value"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.set_value" title="Member Function set_value()">
Member Function <code class="computeroutput"><span class="identifier">set_value</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">set_value</span><span class="special">(</span><span class="identifier">R</span><span class="special">&amp;&amp;</span> <span class="identifier">r</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">set_value</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">R</span><span class="special">&amp;</span> <span class="identifier">r</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">promise</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&amp;&gt;::</span><span class="identifier">set_value</span><span class="special">(</span><span class="identifier">R</span><span class="special">&amp;</span> <span class="identifier">r</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">promise</span><span class="special">&lt;</span><span class="keyword">void</span><span class="special">&gt;::</span><span class="identifier">set_value</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
was not associated with a result, allocate storage for a new asynchronous
result and associate it with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>. Store the value <code class="computeroutput"><span class="identifier">r</span></code> in the asynchronous result
associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>. Any threads blocked waiting
for the asynchronous result are woken.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
All futures waiting on the asynchronous result are <span class="emphasis"><em>ready</em></span>
and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.has_value" title="Member function has_value()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">has_value</span><span class="special">()</span></code></a>
or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.has_value" title="Member function has_value()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">has_value</span><span class="special">()</span></code></a>
for those futures shall return <code class="computeroutput"><span class="keyword">true</span></code>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise_already_satisfied</span></code> if
the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is already <span class="emphasis"><em>ready</em></span>.
<code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code> if the memory required
for storage of the result cannot be allocated. Any exception thrown
by the copy or move-constructor of <code class="computeroutput"><span class="identifier">R</span></code>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function set_exception()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.set_exception"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.set_exception" title="Member Function set_exception()">
Member Function <code class="computeroutput"><span class="identifier">set_exception</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="identifier">set_exception</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">exception_ptr</span> <span class="identifier">e</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
If <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
was not associated with a result, allocate storage for a new asynchronous
result and associate it with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>. Store the exception <code class="computeroutput"><span class="identifier">e</span></code> in the asynchronous result
associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>. Any threads blocked waiting
for the asynchronous result are woken.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
All futures waiting on the asynchronous result are <span class="emphasis"><em>ready</em></span>
and <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future.has_exception" title="Member function has_exception()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">has_exception</span><span class="special">()</span></code></a>
or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future.has_exception" title="Member function has_exception()"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">has_exception</span><span class="special">()</span></code></a>
for those futures shall return <code class="computeroutput"><span class="keyword">true</span></code>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">promise_already_satisfied</span></code> if
the result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> is already <span class="emphasis"><em>ready</em></span>.
<code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code> if the memory required
for storage of the result cannot be allocated.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function set_wait_callback()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.promise.set_wait_callback"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.promise.set_wait_callback" title="Member Function set_wait_callback()">
Member Function <code class="computeroutput"><span class="identifier">set_wait_callback</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">set_wait_callback</span><span class="special">(</span><span class="identifier">F</span> <span class="identifier">f</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Preconditions:</span></dt>
<dd><p>
The expression <code class="computeroutput"><span class="identifier">f</span><span class="special">(</span><span class="identifier">t</span><span class="special">)</span></code> where <code class="computeroutput"><span class="identifier">t</span></code>
is a lvalue of type <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> shall be
well-formed. Invoking a copy of <code class="computeroutput"><span class="identifier">f</span></code>
shall have the same effect as invoking <code class="computeroutput"><span class="identifier">f</span></code>
</p></dd>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Store a copy of <code class="computeroutput"><span class="identifier">f</span></code>
with the asynchronous result associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> as a <span class="emphasis"><em>wait callback</em></span>.
This will replace any existing wait callback store alongside that
result. If a thread subsequently calls one of the wait functions
on a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a> associated
with this result, and the result is not <span class="emphasis"><em>ready</em></span>,
<code class="computeroutput"><span class="identifier">f</span><span class="special">(*</span><span class="keyword">this</span><span class="special">)</span></code>
shall be invoked.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code> if memory cannot be
allocated for the required storage.
</p></dd>
</dl>
</div>
</div>
</div>
<div class="section" title="packaged_task class template">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.packaged_task"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template">
<code class="computeroutput"><span class="identifier">packaged_task</span></code> class template</a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">R</span><span class="special">&gt;</span><br><span class="keyword">class</span> <span class="identifier">packaged_task</span><br><span class="special">{</span><br><span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">packaged_task</span><span class="special">&amp;);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="identifier">packaged_task</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">packaged_task</span><span class="special">&amp;);//</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span><br><span class="keyword">public</span><span class="special">:</span><br><span class="comment">// construction and destruction<br></span> <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">explicit</span> <span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">f</span><span class="special">);</span><br><span class="keyword">explicit</span> <span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">R</span><span class="special">(*</span><span class="identifier">f</span><span class="special">)());</span><br><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">explicit</span> <span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">F</span><span class="special">&amp;&amp;</span> <span class="identifier">f</span><span class="special">);</span><br><span class="comment">// template &lt;class F, class Allocator&gt;<br></span> <span class="comment">// explicit packaged_task(F const&amp; f, Allocator a);<br></span> <span class="comment">// template &lt;class F, class Allocator&gt;<br></span> <span class="comment">// explicit packaged_task(F&amp;&amp; f, Allocator a);<br></span><br><span class="special">~</span><span class="identifier">packaged_task</span><span class="special">()</span><br><span class="special">{}</span><br><span class="comment">// move support<br></span> <span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">packaged_task</span><span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="identifier">packaged_task</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">packaged_task</span><span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span><span class="identifier">packaged_task</span><span class="special">&amp;</span> <span class="identifier">other</span><span class="special">);</span><br><span class="comment">// result retrieval<br></span> <span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="identifier">get_future</span><span class="special">();</span> <span class="comment">// execution<br></span> <span class="keyword">void</span> <span class="keyword">operator</span><span class="special">()();</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">set_wait_callback</span><span class="special">(</span><span class="identifier">F</span> <span class="identifier">f</span><span class="special">);</span> <span class="special">};</span>
</pre>
<div class="section" title="Task Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.task_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.task_constructor" title="Task Constructor">
Task Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="identifier">f</span><span class="special">);</span><br><span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">R</span><span class="special">(*</span><span class="identifier">f</span><span class="special">)());</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">F</span><span class="special">&amp;&amp;</span><span class="identifier">f</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Preconditions:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">f</span><span class="special">()</span></code>
is a valid expression with a return type convertible to <code class="computeroutput"><span class="identifier">R</span></code>. Invoking a copy of <code class="computeroutput"><span class="identifier">f</span></code> shall behave the same as invoking
<code class="computeroutput"><span class="identifier">f</span></code>.
</p></dd>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs a new <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> with a copy
of <code class="computeroutput"><span class="identifier">f</span></code> stored as
the associated task.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Any exceptions thrown by the copy (or move) constructor of <code class="computeroutput"><span class="identifier">f</span></code>. <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code>
if memory for the internal data structures could not be allocated.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Constructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.move_constructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.move_constructor" title="Move Constructor">
Move Constructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">packaged_task</span><span class="special">(</span><span class="identifier">packaged_task</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Constructs a new <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>, and transfers
ownership of the task associated with <code class="computeroutput"><span class="identifier">other</span></code>
to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
leaving <code class="computeroutput"><span class="identifier">other</span></code> with
no associated task.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Move Assignment Operator">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.move_assignment"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.move_assignment" title="Move Assignment Operator">
Move Assignment Operator</a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">packaged_task</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">=(</span><span class="identifier">packaged_task</span> <span class="special">&amp;&amp;</span> <span class="identifier">other</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Transfers ownership of the task associated with <code class="computeroutput"><span class="identifier">other</span></code>
to <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
leaving <code class="computeroutput"><span class="identifier">other</span></code> with
no associated task. If there was already a task associated with
<code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>,
and that task has not been invoked, sets any futures associated
with that task to <span class="emphasis"><em>ready</em></span> with a <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">broken_promise</span></code> exception as the
result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
If the compiler does not support rvalue-references, this is implemented
using the boost.thread move emulation.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Destructor">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.destructor"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.destructor" title="Destructor">
Destructor</a>
</h6></div></div></div>
<pre class="programlisting"><span class="special">~</span><span class="identifier">packaged_task</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Destroys <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
If there was a task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>, and that task has not been
invoked, sets any futures associated with that task to <span class="emphasis"><em>ready</em></span>
with a <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">broken_promise</span></code> exception as the
result.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Nothing.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function get_future()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.get_future"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.get_future" title="Member Function get_future()">
Member Function <code class="computeroutput"><span class="identifier">get_future</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="identifier">unique_future</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;</span> <span class="identifier">get_future</span><span class="special">();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Returns a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> associated
with the result of the task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task_moved</span></code> if ownership of the
task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> has been moved to another instance
of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">future_already_retrieved</span></code> if the
future associated with the task has already been retrieved.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function operator()()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.call_operator"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.call_operator" title="Member Function operator()()">
Member Function <code class="computeroutput"><span class="keyword">operator</span><span class="special">()()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">void</span> <span class="keyword">operator</span><span class="special">()();</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Invoke the task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> and store the result in the
corresponding future. If the task returns normally, the return
value is stored as the asynchronous result, otherwise the exception
thrown is stored. Any threads blocked waiting for the asynchronous
result associated with this task are woken.
</p></dd>
<dt><span class="term">Postconditions:</span></dt>
<dd><p>
All futures waiting on the asynchronous result are <span class="emphasis"><em>ready</em></span>
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task_moved</span></code> if ownership of the
task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> has been moved to another instance
of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task_already_started</span></code> if the task
has already been invoked.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Member Function set_wait_callback()">
<div class="titlepage"><div><div><h6 class="title">
<a name="thread.synchronization.futures.reference.packaged_task.set_wait_callback"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task.set_wait_callback" title="Member Function set_wait_callback()">
Member Function <code class="computeroutput"><span class="identifier">set_wait_callback</span><span class="special">()</span></code></a>
</h6></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">set_wait_callback</span><span class="special">(</span><span class="identifier">F</span> <span class="identifier">f</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Preconditions:</span></dt>
<dd><p>
The expression <code class="computeroutput"><span class="identifier">f</span><span class="special">(</span><span class="identifier">t</span><span class="special">)</span></code> where <code class="computeroutput"><span class="identifier">t</span></code>
is a lvalue of type <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a> shall be
well-formed. Invoking a copy of <code class="computeroutput"><span class="identifier">f</span></code>
shall have the same effect as invoking <code class="computeroutput"><span class="identifier">f</span></code>
</p></dd>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Store a copy of <code class="computeroutput"><span class="identifier">f</span></code>
with the task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> as a <span class="emphasis"><em>wait callback</em></span>.
This will replace any existing wait callback store alongside that
task. If a thread subsequently calls one of the wait functions
on a <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a> associated
with this task, and the result of the task is not <span class="emphasis"><em>ready</em></span>,
<code class="computeroutput"><span class="identifier">f</span><span class="special">(*</span><span class="keyword">this</span><span class="special">)</span></code>
shall be invoked.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task_moved</span></code> if ownership of the
task associated with <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code> has been moved to another instance
of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.packaged_task" title="packaged_task class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">packaged_task</span></code></a>.
</p></dd>
</dl>
</div>
</div>
</div>
<div class="section" title="Non-member function wait_for_any()">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.wait_for_any"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.wait_for_any" title="Non-member function wait_for_any()">
Non-member function <code class="computeroutput"><span class="identifier">wait_for_any</span><span class="special">()</span></code></a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Iterator</span><span class="special">&gt;</span><br><span class="identifier">Iterator</span> <span class="identifier">wait_for_any</span><span class="special">(</span><span class="identifier">Iterator</span> <span class="identifier">begin</span><span class="special">,</span><span class="identifier">Iterator</span> <span class="identifier">end</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">&gt;</span><br><span class="keyword">unsigned</span> <span class="identifier">wait_for_any</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">&gt;</span><br><span class="keyword">unsigned</span> <span class="identifier">wait_for_any</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F4</span><span class="special">&gt;</span><br><span class="keyword">unsigned</span> <span class="identifier">wait_for_any</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">,</span><span class="identifier">F4</span><span class="special">&amp;</span> <span class="identifier">f4</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F4</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F5</span><span class="special">&gt;</span><br><span class="keyword">unsigned</span> <span class="identifier">wait_for_any</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">,</span><span class="identifier">F4</span><span class="special">&amp;</span> <span class="identifier">f4</span><span class="special">,</span><span class="identifier">F5</span><span class="special">&amp;</span> <span class="identifier">f5</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Preconditions:</span></dt>
<dd><p>
The types <code class="computeroutput"><span class="identifier">Fn</span></code> shall
be specializations of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a>, and <code class="computeroutput"><span class="identifier">Iterator</span></code> shall be a forward iterator
with a <code class="computeroutput"><span class="identifier">value_type</span></code>
which is a specialization of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a>.
</p></dd>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Waits until at least one of the specified futures is <span class="emphasis"><em>ready</em></span>.
</p></dd>
<dt><span class="term">Returns:</span></dt>
<dd><p>
The range-based overload returns an <code class="computeroutput"><span class="identifier">Iterator</span></code>
identifying the first future in the range that was detected as <span class="emphasis"><em>ready</em></span>.
The remaining overloads return the zero-based index of the first
future that was detected as <span class="emphasis"><em>ready</em></span> (first parameter
=&gt; 0, second parameter =&gt; 1, etc.).
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread_interrupted</span></code> if the current
thread is interrupted. Any exception thrown by the <span class="emphasis"><em>wait
callback</em></span> associated with any of the futures being waited
for. <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">bad_alloc</span></code> if memory could not be
allocated for the internal wait structures.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">wait_for_any</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
<div class="section" title="Non-member function wait_for_all()">
<div class="titlepage"><div><div><h5 class="title">
<a name="thread.synchronization.futures.reference.wait_for_all"></a><a class="link" href="synchronization.html#thread.synchronization.futures.reference.wait_for_all" title="Non-member function wait_for_all()">
Non-member function <code class="computeroutput"><span class="identifier">wait_for_all</span><span class="special">()</span></code></a>
</h5></div></div></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Iterator</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">wait_for_all</span><span class="special">(</span><span class="identifier">Iterator</span> <span class="identifier">begin</span><span class="special">,</span><span class="identifier">Iterator</span> <span class="identifier">end</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">wait_for_all</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">wait_for_all</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F4</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">wait_for_all</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">,</span><span class="identifier">F4</span><span class="special">&amp;</span> <span class="identifier">f4</span><span class="special">);</span><br><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">F1</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F2</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F3</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F4</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">F5</span><span class="special">&gt;</span><br><span class="keyword">void</span> <span class="identifier">wait_for_all</span><span class="special">(</span><span class="identifier">F1</span><span class="special">&amp;</span> <span class="identifier">f1</span><span class="special">,</span><span class="identifier">F2</span><span class="special">&amp;</span> <span class="identifier">f2</span><span class="special">,</span><span class="identifier">F3</span><span class="special">&amp;</span> <span class="identifier">f3</span><span class="special">,</span><span class="identifier">F4</span><span class="special">&amp;</span> <span class="identifier">f4</span><span class="special">,</span><span class="identifier">F5</span><span class="special">&amp;</span> <span class="identifier">f5</span><span class="special">);</span>
</pre>
<div class="variablelist">
<p class="title"></p>
<dl>
<dt><span class="term">Preconditions:</span></dt>
<dd><p>
The types <code class="computeroutput"><span class="identifier">Fn</span></code> shall
be specializations of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a>, and <code class="computeroutput"><span class="identifier">Iterator</span></code> shall be a forward iterator
with a <code class="computeroutput"><span class="identifier">value_type</span></code>
which is a specialization of <a class="link" href="synchronization.html#thread.synchronization.futures.reference.unique_future" title="unique_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_future</span></code></a> or <a class="link" href="synchronization.html#thread.synchronization.futures.reference.shared_future" title="shared_future class template"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_future</span></code></a>.
</p></dd>
<dt><span class="term">Effects:</span></dt>
<dd><p>
Waits until all of the specified futures are <span class="emphasis"><em>ready</em></span>.
</p></dd>
<dt><span class="term">Throws:</span></dt>
<dd><p>
Any exceptions thrown by a call to <code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code> on the specified futures.
</p></dd>
<dt><span class="term">Notes:</span></dt>
<dd><p>
<code class="computeroutput"><span class="identifier">wait_for_all</span><span class="special">()</span></code>
is an <span class="emphasis"><em>interruption point</em></span>.
</p></dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%">
<tbody>
<tr>
<td align="left"></td>
<td align="right">
<div class="copyright-footer">Copyright  2007 -8
Anthony Williams
<p> Distributed under the Boost Software License, Version
1.0. (See accompanying file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
</p>
</div>
</td>
</tr>
</tbody>
</table>
<hr>
<div class="spirit-nav"><a accesskey="p" href="thread_management.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../thread.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="thread_local_storage.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
</div></body></html>